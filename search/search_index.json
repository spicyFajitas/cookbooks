{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Intro","text":"<p>If you're looking for my personal website / blog, feel free to check it out</p>"},{"location":"#overview","title":"Overview","text":"<p>This is the website for my documentation! The aim is to keep it up to date with my homelab and to allow others to learn from the publicly hosted docs when they ask about my homelab.</p> <p>For full documentation regarding the infrastructure of this site, visit the MkDocs website or the Material for MkDocs website.</p>"},{"location":"#usage","title":"Usage","text":""},{"location":"#editing-repo","title":"Editing Repo","text":"<p>Feel free to fork and modify for your own usage.</p> <p>Markdown documentation files are stored in the <code>./docs/</code> folder. Run the <code>./bin/setup.sh</code> script to set up a python virtual environment to be able to run <code>./bin/preview.sh</code> and view changes locally before pushing to your repo. I edit my docs in WSL instances - you can edit anywhere but the scripts are only supported on Linux.</p>"},{"location":"#ci","title":"CI","text":"<p>In order to run CI and update your website, you need to include <code>[CI]</code> in your commit message - see <code>.github/workflows/main.yml</code>:</p> <pre><code>    if: \"contains(github.event.head_commit.message, '[CI]')\"\n</code></pre> <p>This ensures that GitHub actions runs for the shortest amount of time possible as it skips all jobs. This is not necessary, and you can remove this line in order to run CI every time. I like having it as it saves my GitHub actions CI runtime minutes.</p>"},{"location":"#links","title":"Links","text":"<p>GitHub Actions</p> <p>GitHub Pages</p>"},{"location":"current%20readme%20boilerplate/","title":"Cookbooks Readme Boilerplate","text":"<pre><code># Cookbooks Readme Boilerplate\n\n## Table of contents\n\n- [Overview](#overview)\n- [Known Issues](#known-issues)\n- [Software](#software)\n- [Requirements](#requirements)\n- [Installation](#installation)\n- [Variables](#variables)\n- [Common Tasks](#common-tasks)\n- [Usage](#usage)\n- [To Do](#to-do)\n- [Resources](#resources)\n- [Disaster Recovery](#disaster-recovery)\n- [Rollback Instructions](#rollback-instructions)\n- [Failover](#failover)\n- [Recreate](#recreate)\n- [Credits](#credits)\n- [Current Maintainers](#current-maintainers)\n\n## Overview\n\nThis is summary. It explains in high level detailg about your project and what it's functions are. More details are explained below in the the various sections.\n\n### Known Issues\n\n## Software\n\nNotes about software that is set up on server\n\n## Requirements\n\n- Working Cloudflare API token\n- Domain managed through Cloudflare Nameservers\n\n## Installation\n\nTo create a CloudFlare API token for your DNS zone go to the [cloudflare dashboard](https://dash.cloudflare.com/profile/api-tokens) and follow these steps:\n\n- Click Create Token\n- Provide the token a name, for example, cloudflare-ddns\n- Grant the token the following permissions:\n- Zone - Zone Settings - Read\n- Zone - Zone - Read\n- Zone - DNS - Edit\n- Set the zone resources to:\n- Include - All zones\n- Complete the wizard and copy the generated token into the API_KEY variable for the container\n\nThe steps were copied from oznu/cloudflare's [docker hub page](https://hub.docker.com/r/oznu/cloudflare-ddns/) and [githubpage](https://github.com/oznu/docker-cloudflare-ddns).\n\n## Variables\n\n## Common Tasks\n\nNotes about procedures that need to be done on servers. These are not every day tasks but they do need to be done every so often.\n\n## Usage\n\nIn the `docker-compose.yml` file, set the `CF_API_TOKEN=&lt;PASTE_API_KEY_HERE&gt;` variable as the API key you just created. Then, you will want to configure your domains and subdomains through the two services `DOMAINS=subdomain.domain.com` variables.\n\n## To Do\n\n## Resources\n\n## Disaster Recovery\n\n### Rollback Instructions\n\n### Failover\n\n### Recreate\n\n## Credits\n\nBig thanks to [favonia](https://github.com/favonia/cloudflare-ddns) and [oznu (github)](https://github.com/oznu/docker-cloudflare-ddns) / [oznu (docker hub)](https://hub.docker.com/r/oznu/cloudflare-ddns/)\n\nMuch of the docker compose files is drawn directly from these sources.\n\n## Current Maintainers\n\n- [spicyFajitas](https://github.com/spicyFajitas)\n</code></pre>"},{"location":"markdown%20syntax/","title":"Markdown Syntax","text":""},{"location":"markdown%20syntax/#welcome-to-mkdocs","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"markdown%20syntax/#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"markdown%20syntax/#title-header","title":"Title Header","text":"<pre><code># Title Header\n</code></pre> <p>As always, you can reference the official documentation for more assistance.</p>"},{"location":"markdown%20syntax/#secondary-header","title":"Secondary Header '##'","text":"<pre><code>## Secondary Header\n</code></pre>"},{"location":"markdown%20syntax/#third-header","title":"Third Header '###'","text":"<pre><code>```markdown\n### Third Header\n```\n</code></pre>"},{"location":"markdown%20syntax/#code-block","title":"Code Block","text":"Title<pre><code>``` shell\n# this is some code\nsudo apt get update\n```\n</code></pre>"},{"location":"markdown%20syntax/#url","title":"URL","text":"<p>Displayed Text</p> <pre><code>[Displayed Text](https://someURL.com/)\n</code></pre>"},{"location":"markdown%20syntax/#table","title":"Table","text":"Header 1 Header 2 Header 3 column 1 col. 2 very wide column for demonstration purposes 3 <pre><code>| Header 1 | Header 2 | Header 3 |\n| -------- | -------- | -------- | \n| column 1 | col. 2 | very wide column for demonstration purposes 3 |\n</code></pre>"},{"location":"markdown%20syntax/#_1","title":"Markdown Syntax","text":""},{"location":"markdown%20syntax/#_2","title":"Markdown Syntax","text":""},{"location":"markdown%20syntax/#_3","title":"Markdown Syntax","text":""},{"location":"markdown%20syntax/#_4","title":"Markdown Syntax","text":""},{"location":"markdown%20syntax/#_5","title":"Markdown Syntax","text":""},{"location":"markdown%20syntax/#_6","title":"Markdown Syntax","text":""},{"location":"markdown%20syntax/#it-docs-coding-and-text-examples-for-documentation","title":"IT Docs Coding and Text Examples for Documentation","text":""},{"location":"markdown%20syntax/#purpose","title":"Purpose","text":"<p>This page is for anyone new to documentation and the coding that goes with it or for anyone who needs a reference while coding.</p>"},{"location":"markdown%20syntax/#code-vs-example","title":"Code vs Example","text":"<p>Code will be represented below <code>like this sample text</code> . This is due to the fact that examples written without the code format will show the result of the coding. Examples will generally be right after the coded line.</p> <p>To code your own lines, use three ``` before and after the text you want to highlight. This is best used for code or to highlight a specific function that you want a user to focus on.</p>"},{"location":"markdown%20syntax/#headers","title":"Headers","text":"<p>Headers are for any new section within the document.</p> <ul> <li>Code: <code># This is header code</code></li> </ul> <p>The more <code>#</code> symbols you use the smaller the text becomes. Also the linter gets really angry with showing the results of these headers, so you will need to test them out as you make your edits and determine what size makes the most sense.</p> <ul> <li> <p>Examples:</p> </li> <li> <p><code># One Header Symbol - Also the largest header</code></p> </li> <li> <p><code>## Two Header Symbols</code></p> </li> <li> <p><code>### Three Header Symbols</code></p> </li> <li> <p><code>#### Four Header Symbols</code></p> </li> <li> <p><code>##### Five Header Symbols - Also the samllest header</code></p> </li> </ul> <p>In general, you want to use one <code>#</code> for the maint header of the IT Doc. Two <code>##</code> for sub headers, and so on. Use the style as you would see fit and what makes the most sense.</p> <p>What you do not see is in between the two sample texts is <code>&lt;br&gt;&lt;/br&gt;</code>.</p>"},{"location":"markdown%20syntax/#lists-and-bulletpoints","title":"Lists and Bulletpoints","text":"<p>Lists are great for anything you want done in a very specific order. Bulletpoints are used for anything you want to highlight as a step or function that does not need to be done in a specific order.</p>"},{"location":"markdown%20syntax/#lists","title":"Lists","text":"<p>Example: <code>1.</code></p> <p>Each of these must be followed by no more or less than two spaces. Note that the deeper indented the list, it changes how the list is represented.</p> <p>Example: <code>1. Start</code></p> <ol> <li>Start with no spaces</li> <li>Second with two spaces<ol> <li>Third with four spaces</li> </ol> </li> </ol>"},{"location":"markdown%20syntax/#bulletpoints","title":"Bulletpoints","text":"<p>Example: <code>*</code> or <code>-</code></p> <p>Each of these must be followed by no more or less than two spaces.</p> <p>Example: <code>- Bullet</code></p> <ul> <li>Bullet 1</li> <li>Bullet 2<ul> <li>Bullet 3</li> </ul> </li> </ul>"},{"location":"markdown%20syntax/#combination","title":"Combination","text":"<ol> <li>List 1</li> <li>Bullet 1<ol> <li>List 2</li> <li>Bullet 2</li> </ol> </li> </ol>"},{"location":"markdown%20syntax/#blockquotes","title":"Blockquotes","text":"<p>To create a blockquote, add a &gt; in front of a paragraph.</p> <p>Example:</p> <pre><code>&gt; Dorothy followed her through many of the beautiful rooms in her castle.\n</code></pre> <p>Result:</p> <p>Dorothy followed her through many of the beautiful rooms in her castle.</p>"},{"location":"markdown%20syntax/#nested-blockquotes","title":"Nested Blockquotes","text":"<p>Blockquotes can be nested. Add a &gt;&gt; in front of the paragraph you want to nest.</p> <p>Example:</p> <pre><code>&gt; Dorothy followed her through many of the beautiful rooms in her castle.\n&gt;\n&gt;&gt; The Witch bade her clean the pots and kettles and sweep the floor and keep the fire fed with wood.\n</code></pre> <p>Result:</p> <p>Dorothy followed her through many of the beautiful rooms in her castle.</p> <p>The Witch bade her clean the pots and kettles and sweep the floor and keep the fire fed with wood.</p>"},{"location":"markdown%20syntax/#bolding-italicize-and-bold-italicize","title":"Bolding, Italicize and Bold Italicize","text":"<p>One <code>*</code> on each side will italicize text. Two <code>**</code> on each side will bold text. Three <code>***</code> will bold and italicize text.</p> <p>Example: <code>***</code></p> <p>Similar to the code examnple in the beginning of the document, you have to start and end the word or sentance you want bolded with three *.</p> <p>Example: <code>*This will be a italicized statement.*</code></p> <p>Result: This will be a bolded statement</p> <p>Example: <code>**This will be a bolded statement.**</code></p> <p>Result: This will be a bolded statement</p> <p>Example: <code>***This will be a bolded statement.***</code></p> <p>Result: This will be a bolded and italicized statement</p>"},{"location":"markdown%20syntax/#adding-a-hyperlink-to-text","title":"Adding a Hyperlink to Text","text":"<p>This is a very handy thing to do since you can embedded a hyperlink within text with some simple code. This will make your documentation look more clean while still highlighting where the reader should click to get to a certain site.</p> <p>Example: <code>[Google](https://google.com)</code></p> <p>Result: Google</p>"},{"location":"markdown%20syntax/#fancy-table-of-contents","title":"Fancy Table of Contents","text":"<p>If you have a lot of data and want to organize it within your documentation, you can create a fancy table</p> <p>Example:</p> <pre><code>| Syntax      | Description |\n| ----------- | ----------- |\n| Header      | Title       |\n| Paragraph   | Text        |\n</code></pre> <p>Result:</p> Syntax Description Header Title Paragraph Text"},{"location":"markdown%20syntax/#multiple-choice-selections","title":"Multiple Choice Selections","text":"<p>If you'd like to organize information so that only some is visible at a time, you can split it between mulitple choice selections. These can be nested as well.</p> <pre><code>=== \"Choice 1\"\n    Information for choice 1\n    === \"Choice 1a\"\n        1. List item 1 for choice 1a\n        1. List item 2 for choice 1a\n    === \"Choice 1b\"\n        Information for choice 1b\n=== \"Choice 2\"\n    Information for choice 2\n</code></pre> Choice 1Choice 2 <p>Information for choice 1</p> Choice 1aChoice 1b <ol> <li>List item 1 for choice 1a</li> <li>List item 2 for choice 1a</li> </ol> <p>Information for choice 1b</p> <p>Information for choice 2</p>"},{"location":"markdown%20syntax/#notes-and-secrets","title":"Notes and Secrets","text":"<p>If you have a bit of information that you want to display as an aside, you can choose to format it as either a note or a secret. The Note/Secret title can be replaced with a one-word title.</p> <pre><code>!!! Note\n    Note contents\n\n??? Secret\n    Secret message!\n</code></pre> <p>Note</p> <p>Note contents</p> Secret <p>Secret message!</p>"},{"location":"markdown%20syntax/#inserting-a-photo","title":"Inserting a Photo","text":"<p>This can be handy if you have a screenshot or very specific example and want to add it to your documentation.</p> <p>First you want to copy the image you want to have hosted into /it-docs/src/files/</p> <p>Example:</p> <p><code>![](../file/demodoge.png)</code></p> <p>Result:</p> <p></p>"},{"location":"markdown%20syntax/#referencing-another-page","title":"Referencing Another Page","text":"<p>You can link/reference another page in the docs by relative file path.</p> <p>Example:</p> <p><code>[My proxmox documentation page](../homelab/proxmox.md)</code></p> <p>My proxmox documentation page</p> <p>You can also link/refernece a specific header on the page.</p> <p>Example:</p> <p><code>[my cloud init ubuntu template - proxmox documentation](../homelab/proxmox.md#cloud-init-ubuntu-template)</code></p> <p>my cloud init ubuntu template - proxmox documentation</p>"},{"location":"markdown%20syntax/#check-lists","title":"Check Lists","text":"<p>Not sure when you would want to use this, but this is a neat feature that Markdown can do.</p> <p>Example:</p> <pre><code>- [x] @mentions, #refs, [links](), **formatting** supported\n\n- [x] list syntax required (any unordered or ordered list supported)\n\n- [x] this is a complete item\n\n- [ ] this is an incomplete item\n</code></pre> <p>Result:</p> <ul> <li> @mentions, #refs, links, formatting supported</li> <li> list syntax required (any unordered or ordered list supported)</li> <li> this is a complete item</li> <li> this is an incomplete item</li> </ul>"},{"location":"markdown%20syntax/#website-references","title":"Website References","text":"<p>https://guides.github.com/features/mastering-markdown/</p> <p>https://wordpress.com/support/markdown-quick-reference/</p> <p>https://www.markdownguide.org/basic-syntax/</p>"},{"location":"spicydocs%20page%20boilerplate/","title":"SpicyDocs Pages Boilerplate","text":"<pre><code># SpicyDocs Pages Boilerplate\n\n# Topic\n\n## Overview\n\n### Known Issues\n\n## Software\n\nNotes about software that is set up on server\n\n## Common Tasks\n\nNotes about procedures that need to be done on servers. These are not every day tasks but they do need to be done every so often.\n\n## User Management\n\n## Resources\n\nWhat does this server use as it's playform (i.e. what is it running on?)\n\n## Disaster Recovery\n\nNotes about how to recover server in the event of bad things happening.\n</code></pre>"},{"location":"3D%20printing/","title":"Overview","text":""},{"location":"3D%20printing/#cura-setup-ender-3","title":"Cura Setup - Ender 3","text":"<ol> <li>Non Ultimaker Printer</li> <li>Add a non-networked printer</li> <li>Scroll down and expand <code>Creality3D</code></li> <li>Select <code>Creality Ender-3 / Ender-3 v2</code></li> <li>You shouldn't need to change <code>Printer</code> or <code>Extruder</code> settings. Ensure <code>X</code> and <code>Y</code> are both set to 235. Some websites say the \"build volume\" of the Ender 3 is 220mm, but this is the build volume after accounting for the bed clips. You actually need to set the build volume to 235mm by 235mm in order to have Cura slice prints in the center of the build plate.</li> </ol>"},{"location":"3D%20printing/#custom-settings","title":"Custom Settings","text":"<ul> <li>Y offset of -5 (mm)</li> </ul>"},{"location":"3D%20printing/#upgrades","title":"Upgrades","text":"<ul> <li>All Metal Extruder Feeder here</li> <li>Capricorn Bowden Tubing</li> <li>New Bowden Tubing Pneumatic Couplers</li> <li>Yellow Bed-Level Springs for Creality Ender 3</li> <li>MK8 Stainless Steel Nozzle (0.4mm) here</li> <li>Micro-Swiss All Metal Hotend Kit for Creality Ender 3 here</li> <li>BIGTREETECH SKR Mini E3 V2.0 Motherboard here</li> <li>TFT35 E3 V3 Touch Screen Onboard TMC2209 Upgraded 32bit Silent Main Board</li> </ul>"},{"location":"3D%20printing/#leveling-square","title":"Leveling Square","text":"<p>I've created a leveling square comprised of a single layer of filament. The layer is not actually thick enough for Cura to create GCODE to print the layer, so the solution I've come up with is adding a Brim to the object in Cura. By doing this, I can customize the number of layers to allow for as much leveling as I would like.</p> <p>The leveling square STL file is here</p> <p>In Cura, make sure to center and print with a Brim. The more layers of brim, the more leveling that can be done. I like to go with 8 layers.</p> <p>Size down the leveling square so that the path of the brim is not extruded in line with the clips on the bed. If the object is not scaled down in Cura, the nozzle will run into the clips.</p>"},{"location":"blog/","title":"Public Blogs","text":""},{"location":"blog/#overview","title":"Overview","text":"<p>This page is a compilation of other peoples' blogs that I've found neat.</p>"},{"location":"blog/#blog-list","title":"Blog List","text":"<ul> <li>Avid Andrew</li> <li>Adam Brodack</li> <li>Baeldung</li> <li>Carl Schelin</li> <li>Felix Wong</li> <li>idumea</li> <li>Louwrentius</li> <li>Techno Tim</li> <li>St\u00e9phane Graber</li> <li>Wesley Aptekar-Cassels</li> <li>Eighty-Twenty</li> <li>Victor Fernandez III</li> </ul>"},{"location":"blog/2023-11-08/","title":"2023-11-08 State of the Homelab (working document)","text":""},{"location":"blog/2023-11-08/#overview","title":"Overview","text":"<p>About my homelab</p> <p>My homelab started back in 2019 when a coworker at my community college let me borrow a raspberry pi to implement PiHole at home. I was able to \"script kiddie\" my way through the installation guide, and it worked quite nicely at home. My parents even noticed the lack of ads and really liked it!</p> <p>For now, I'll list some of the major steps that were pivotal in my development of my homelab.</p> <p>List:</p> <pre><code>- installing Linux flavors on old desktop from a local computer repair company\n- hosting minecraft server from local Windows desktop\n- received some Lenovo ThinkCentre computers from place I interned at summer of 2021. Major step because I finally have my own hardware\n- convert desktop to UnRaid system\n- build TrueNAS server\n- learned Docker (compose)\n- learn Proxmox better (host on Lenovo ThinkCentre's and OptiPlex) (configuration, backups, pruning backups, storage types, other stuff in my [Proxmox Docs](../homelab/proxmox.md))\n- start internship in Mad, WI\n- learn ansible\n- learn to read logs better (*woooooowwww*)\n- become familiar with Linux more (Ubuntu/Debian specifically)\n- (mostly) fully automate deployment of Docker host VM with Packer for VM templating, Terraform for VM deployment, and ansible for configuration deployment\n- trying to learn Kubernetes, really burnt out on Kubernetes\n- minecraft server led me to implement Netdata\n</code></pre>"},{"location":"blog/2024-01-16/","title":"2024-01-16 Minecraft Server Rabbit Hole","text":""},{"location":"blog/2024-01-16/#overview","title":"Overview","text":"<p>My big project lately has been running a minecraft server on Docker (itzg/minecraft-server docker image), and to be honest I have just as much fun administrating it as playing. The docker compose file is here - it's in the corresponding ansible role.</p> <p>Looking through that is a bit of a rabbit hole - the TLDR is that I set up the minecraft server and set up dynamic DNS with cloudflare, then wanted to run backups (itzg/mc-backup docker image sidecar service), then wanted to get discord notifications for logins and logouts (security lol), and then the backups started filling the disk so I set up Netdata for monitoring things, and it's spiraling into another project where I configure Netdata monitoring and alerting on my major hosts.</p> <p>For the discord notifications, I forked and created my own container because the notifications from the parent project would only be embedded messages, which weren't showing text previews on my phone, so I'd have to manually open Discord every time I wanted to check instead of being able to read the notification. I had to learn building container images and pushing them to the GitHub Container Repository, so this has really spiraled into many offshoot projects.</p>"},{"location":"blog/2024-04-01/","title":"2024-04-01 No Minecraft for the Guest Network","text":""},{"location":"blog/2024-04-01/#issue","title":"Issue","text":"<p>The initial issue was discovered by my roommate when he could not connect to my local Minecraft server. In my apartment, I have my server network that I only allow myself on, and I have my guest network, which all roommates, guests, and IoT devices get put on. The issue was very strange because I could connect just fine from my server network, and friends outside of my network could connect fine via the Dynamic DNS address I have set up (minecraft.domain.com).</p>"},{"location":"blog/2024-04-01/#troubleshooting","title":"Troubleshooting","text":"<p>I spent wayyy too much time troubleshooting the router and implementing configurations that either did nothing or had negative effects. I made a lot of static routes, traffic rules (allow rules), policy-based routes, messed with ad blocking, multicast DNS, DNS shielding, country restrictions, and VLAN rules. The country restrictions actually caused me issues with a tool that I use for a class that simplifies writing penetration testing reports.</p> <p>I finally was convinced it was not a router issue when I was running a <code>tcpdump</code> on the Docker VM and noticed traffic was reaching the server. This led me to do some searching for traffic not being able to be routed from different subnets/VLANs to Docker servers.</p>"},{"location":"blog/2024-04-01/#networking","title":"Networking","text":"<p>I found this reddit thread that explained a similar issue, which led me to the Docker docs and I figured out the issue. Upon running <code>ip addr</code> on my Docker host (which showed many networks), I saw the bridge interface with the network of 192.168.0.1/20. I figured this was why my traffic was not being routed properly, and I figured a really easy fix would be to change the IP address scheme of my guest network. My final test was to run <code>ip link delete {{ name of docker bridge network interface }}</code> and I tested the Minecraft server, which finally connected. </p> <p>However, when checking my Uptime Kuma instance, I noticed that some containers were reporting as down. I went back to my Docker host and restarted the docker service with <code>systemctl restart docker</code>, which successfully recreated the bridge network. I believe this change came about as a result of my normal homelab experimentation and creating new services, as the containers I set up just a week ago were the only ones brought down by deleting the default bridge interface on the docker host.</p>"},{"location":"blog/2024-04-01/#unifi-changes","title":"Unifi changes","text":"<p>I wanted to isolate traffic from my main server network and my guest network, so I enabled traffic isolation in </p> <p><code>Settings &gt; {{ network name }} &gt; Isolate Network</code></p> <p>However, this caused the guest network to not be able to reach the server again. I created an allow rule in the firewall to allow traffic to reach the Minecraft server</p> <p><code>Settings &gt; Traffic and Firewall Rules &gt; Allow Minecraft</code></p> <pre><code>- Action: Allow\n- Source: {{ guest network name }} \n- Destination: IP address\n- {{ IP address and port of MC server }}\n- Schedule: Always\n</code></pre> <p>This resolved the issue while still keeping the rest of the server network separated. </p>"},{"location":"blog/2024-04-01/#tldr","title":"TLDR","text":"<ul> <li>Guest network traffic not routable to Minecraft server</li> <li>Docker default network - 192.168.0.1/20</li> <li>Guest network - 192.168.1.1/24</li> <li>Guest network traffic reaching docker server, but not being routed back out to network</li> <li>instead return traffic destined for Guest network being routed to Docker default bridge network interface</li> <li>Resolved by changing Guest network to 192.168.231.1/24</li> </ul>"},{"location":"hobbies/magic/","title":"Magic","text":""},{"location":"hobbies/magic/#sorting","title":"Sorting","text":"<p>Color -&gt; Rarity (non common/common) -&gt; ABC</p> <p>Red, Green, multi-colored creatures, artifacts need to be sorted</p> <p>Legendary creatures -&gt; ABC</p>"},{"location":"hobbies/track-days/","title":"Motorcycle Track Days","text":""},{"location":"hobbies/track-days/#checklists","title":"Checklists","text":"<ul> <li>https://opensource.racing/what-to-bring-to-the-track/</li> <li>https://ridelikeachampion.com/wp-content/uploads/2024/07/Track-Day-Check-List.pdf</li> </ul> <p>My personal consolidated checklist:</p> <p>Track Day &amp; Camping Checklist PDF</p>"},{"location":"homelab/bash/","title":"Bash","text":"<p>Sometimes it is useful to iterate over directories and apply a command to all of the directories. With the below example, you can iterate over the docker folders and stop all containers.</p> <pre><code>for i in /opt/*; do echo \"Processing $i\"; cd $i &amp;&amp; docker compose down; done\n</code></pre>"},{"location":"homelab/commands/","title":"Commands","text":"<p>Commands based on useful packages</p>"},{"location":"homelab/commands/#adduser","title":"adduser","text":"<pre><code># debian - sudo group\n# rhel/fedora - wheel group\nuseradd -m -s /bin/bash -G sudo newUserName\n    # -m make home directory at /home/newUserName\n    # -s set default shell\n    # -G set group\n</code></pre>"},{"location":"homelab/commands/#btop","title":"btop","text":"<p>similar to htop</p> <pre><code>btop\n    # better top\n</code></pre>"},{"location":"homelab/commands/#gdu","title":"gdu","text":"<p>graphical du command that is really fast</p> <pre><code>gdu \n    -x / # do not cross filesystem boundaries, i.e. only count files and directories on the same filesystem as the directory being scanned.\n    --exclude=/&lt;directory&gt;\n</code></pre>"},{"location":"homelab/commands/#lsof","title":"lsof","text":"<pre><code>lsof\n    # lists open files\n</code></pre>"},{"location":"homelab/commands/#ncdu","title":"ncdu","text":"<p>graphical du command that is really fast</p> <pre><code>ncdu \n    -x / # do not cross filesystem boundaries, i.e. only count files and directories on the same filesystem as the directory being scanned.\n    --exclude=&lt;directory&gt;\n</code></pre>"},{"location":"homelab/commands/#nproc","title":"nproc","text":"<pre><code>nproc\n    # number of processors\n</code></pre>"},{"location":"homelab/commands/#ps","title":"ps","text":"<p>report a snapshot of current processes</p> <pre><code>    aux # list all running processes\n    -e # same as ps aux but different format\n    -f # full format output\n    -p 12345 # show process number 12345\n</code></pre>"},{"location":"homelab/commands/#ssh-keygen","title":"ssh-keygen","text":"<pre><code>ssh-keygen\n    -t # for type\n    -C # for comment\nssh-keygen -t ed25519 -C \"username@machine-name\"\n</code></pre>"},{"location":"homelab/docker/","title":"Docker","text":""},{"location":"homelab/docker/#overview","title":"Overview","text":"<p>The docker host has cockpit installed but running on a different port. Config:</p> <pre><code>root@docker-host:~# vim /etc/systemd/system/cockpit.socket.d/listen.conf\n\n\n[Socket]\nListenStream=\nListenStream=9000\n</code></pre> <p>Reference: https://cockpit-project.org/guide/latest/listen</p>"},{"location":"homelab/docker/#htop-but-for-docker","title":"Htop but for Docker","text":"<p>Glances</p> <p><code>root@docker-host:~# glances</code></p>"},{"location":"homelab/docker/#installation","title":"Installation","text":""},{"location":"homelab/docker/#apt-based-distro","title":"Apt-Based Distro","text":"<pre><code># Add Docker's official GPG key:\nsudo apt-get update\nsudo apt-get install ca-certificates curl gnupg\nsudo install -m 0755 -d /etc/apt/keyrings\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg\nsudo chmod a+r /etc/apt/keyrings/docker.gpg\n\n# Add the repository to Apt sources:\necho \\\n  \"deb [arch=\"$(dpkg --print-architecture)\" signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \\\n  \"$(. /etc/os-release &amp;&amp; echo \"$VERSION_CODENAME\")\" stable\" | \\\n  sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null\nsudo apt-get update\n</code></pre> <pre><code>sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n</code></pre>"},{"location":"homelab/docker/#commands","title":"Commands","text":"<ul> <li> <p>bash into the container <code>docker exec -it &lt;container name&gt; /bin/bash</code></p> </li> <li> <p>if that does not work try <code>/bin/sh</code> instead of <code>/bin/bash</code></p> </li> <li> <p>to mass-stop containers, use <code>for i in /opt/*; do echo \"Processing $i\"; cd $i &amp;&amp; docker compose down; done</code></p> </li> </ul> <p>Prune Images</p> <p><code>docker system prune -a -f</code></p> <p>Remove Dangling Volumes</p> <p><code>docker volume rm $(docker volume ls -qf dangling=true)</code></p>"},{"location":"homelab/docker/#bind-port-errors","title":"Bind Port Errors","text":"<pre><code>Error response from daemon: driver failed programming external connectivity on endpoint semaphore-postgres-1 (fbe183265d127afc95f0cd4ccb5e7d682fed8770e44d4c9b248f14f3f2d2ef92): Bind for 0.0.0.0:5432 failed: port is already allocated\n</code></pre> <p>If you are trying to start or restart containers and you receive errors like these, make sure to stop the containers, remove the containers, remove the networks, and then try to restart the containers again.</p> <pre><code>docker compose remove semaphore\ndocker compose remove postgres \ndocker network rm -f semaphore_default\n</code></pre>"},{"location":"homelab/docker/#rotate-logs","title":"Rotate Logs","text":"<p>I was having this issue where my docker host started to become bloated after months of my containers running. I found out based on this website that it was because my logs were not being rotated.  Specifically running the commands confirm that there are some log files that are WAYYY bigger than they should be.</p>"},{"location":"homelab/docker/#configuration","title":"Configuration","text":"<p>Configure log rotation at <code>/etc/docker/daemon.json</code>. The following sample has been provided, which sets json log files to have a maximum size of 10m before rotating and keeps a maximum of 3 log files.</p> <p>Sample Config:</p> <pre><code>{\n  \"log-driver\": \"json-file\",\n  \"log-opts\": {\n    \"max-size\": \"10m\",\n    \"max-file\": \"3\"\n  }\n}\n</code></pre> <p>Source:</p> <ul> <li>Log Rotation Configuration Guide</li> </ul>"},{"location":"homelab/docker/#troubleshooting","title":"Troubleshooting","text":""},{"location":"homelab/docker/#log-storage","title":"Log Storage","text":"<p>Run the commands below to get the shown output. The <code>find</code> command shows the largest files, and the <code>du</code> command shows which directories/files are using the most storage. Using the results, you can use the <code>docker inspect</code> command and grep for keywords to find what containers those directories/files are associated with.</p> <p>Sources:</p> <ul> <li>RedHat KB Article</li> <li>Docker Forum</li> </ul> <pre><code>root@docker-host:~# find /var/lib/docker/ -name \"*.log\" -exec ls -sh {} \\; | sort -h -r | head -5\n116K /var/lib/docker/containers/ff53ff8ed9987187ff062009b006719024a4c749b9ab4d18b41349fce0d181ca/ff53ff8ed9987187ff062009b006719024a4c749b9ab4d18b41349fce0d181ca-json.log\n104K /var/lib/docker/containers/4e009f730bd6bd98dd5d74024ddaf0c1e2d2d65ce6194c5e8a1dd658963e77a8/4e009f730bd6bd98dd5d74024ddaf0c1e2d2d65ce6194c5e8a1dd658963e77a8-json.log\n48K /var/lib/docker/containers/1dc87637ed5b31e4af4c0a7b212c7e6abc5c95f486a515464cfd475e4dcee9be/1dc87637ed5b31e4af4c0a7b212c7e6abc5c95f486a515464cfd475e4dcee9be-json.log\n40K /var/lib/docker/containers/6b09985ed02a3b65bf40e018af6b52d18f4221090d0b913d5fae6a49838ec600/6b09985ed02a3b65bf40e018af6b52d18f4221090d0b913d5fae6a49838ec600-json.log\n28K /var/lib/docker/containers/409aaf47c68cb6d99379f33c56d3e3921c7fe02750aea99af7764aeb4d3d78ac/409aaf47c68cb6d99379f33c56d3e3921c7fe02750aea99af7764aeb4d3d78ac-json.log\n</code></pre> <pre><code>root@docker-host:~# du -aSh /var/lib/docker/containers/ | sort -h -r | head -n 10\n104K    /var/lib/docker/containers/ff53ff8ed9987187ff062009b006719024a4c749b9ab4d18b41349fce0d181ca\n76K     /var/lib/docker/containers/ff53ff8ed9987187ff062009b006719024a4c749b9ab4d18b41349fce0d181ca/ff53ff8ed9987187ff062009b006719024a4c749b9ab4d18b41349fce0d181ca-json.log\n72K     /var/lib/docker/containers/6b09985ed02a3b65bf40e018af6b52d18f4221090d0b913d5fae6a49838ec600\n64K     /var/lib/docker/containers/409aaf47c68cb6d99379f33c56d3e3921c7fe02750aea99af7764aeb4d3d78ac\n64K     /var/lib/docker/containers/1dc87637ed5b31e4af4c0a7b212c7e6abc5c95f486a515464cfd475e4dcee9be\n44K     /var/lib/docker/containers/3eb684cd93d543a44d8fd0c496d82b62d7561c572c9c6df9f99ff5dea1db4f23\n40K     /var/lib/docker/containers/a0b17c5061e0c2ff9b1068dcac05f7d7b5f9bcd1e63a1338217a8799fdd565ec\n40K     /var/lib/docker/containers/74a206b4f5466bdcc938842e6a804b33d526a6c5f1735d0bc8a66c36680d0353\n40K     /var/lib/docker/containers/6b09985ed02a3b65bf40e018af6b52d18f4221090d0b913d5fae6a49838ec600/6b09985ed02a3b65bf40e018af6b52d18f4221090d0b913d5fae6a49838ec600-json.log\n40K     /var/lib/docker/containers/4e009f730bd6bd98dd5d74024ddaf0c1e2d2d65ce6194c5e8a1dd658963e77a8\n</code></pre> <pre><code>root@docker-host:~# docker inspect ff53ff8ed9987187ff062009b006719024a4c749b9ab4d18b41349fce0d181ca | grep -E \"Name|Source\"\n        \"Name\": \"/netbox-redis-1\",\n                \"Name\": \"unless-stopped\",\n                    \"Source\": \"netbox_netbox-redis-data\",\n            \"Name\": \"overlay2\"\n                \"Name\": \"netbox_netbox-redis-data\",\n                \"Source\": \"/var/lib/docker/volumes/netbox_netbox-redis-data/_data\",\n</code></pre>"},{"location":"homelab/docker/#overlay-networking","title":"Overlay Networking","text":"<p>TBH Docker networking is still a mystery to me, but I do know it creates files at <code>/var/lib/docker/overlay2</code> and those can bloat up the system storage. You can fix this by running </p> <pre><code>docker system prune -af\nuntagged: postgres@sha256:b08e74401dd0838898ebafac9efc3dec1090d0882277e485b7edb73730327607\ndeleted: sha256:5fbd2ea0d85b48a9858e9f0dbd63ef8e4db715eeefc7b6f2e051ac80f2680d4c\n...\n...\n...\nTotal reclaimed space: 13.98GB\n</code></pre>"},{"location":"homelab/docker/#dockerfile-example","title":"Dockerfile example:","text":"<pre><code>FROM alpine:3.7\nRUN apk add --no-cache bash curl\n\nWORKDIR /app\n\nCOPY minecraft-discord-webhook.sh .\nCOPY ./lang ./lang\n\nCMD [\"bash\", \"-c\", \"WEBHOOK_URL=$WEBHOOK_URL SERVERLOG=./logs LANGUAGE=$LANGUAGE FOOTER=$FOOTER ./minecraft-discord-webhook.sh $WEBHOOK_URL\"]\n</code></pre> <p>The image builds upon the default alpine version 3.7 container. It adds two packages: bash and curl to the container image. The working directory is set as /app and then it copies a script minecraft-discord-webhook.sh into the container. It also copies a directory lang into the container. Then the container start command is defined, which is calling the script copied into the container and giving that script flags for the variables in the script.</p> <p>To build this container you would run docker build . -f Dockerfile -t minecraft-discord-webhook-container. This command builds the container given the current directory \u201c.\u201d and using file \u201cDockerfile.\u201d The output, or \u201ctarget\u201d for the built container is defined as \u201cminecraft-discord-webhook-container\u201d. In order to run this new container, you would run docker run minecraft-discord-webhook-container. Of course, you\u2019ll need to set some environment variables in the docker run command, or your container will error out when trying to start.</p>"},{"location":"homelab/fail2ban/","title":"Fail2Ban","text":"<pre><code>fail2ban-client status | grep \"Jail list\" | sed -E 's/^[^:]+:[ \\t]+//' | sed 's/,//g'\nsshd\nroot@docker-host:~# fail2ban-client set sshd unbanip &lt;ip&gt;\n</code></pre>"},{"location":"homelab/fedora/","title":"Fedora Linux","text":"<ul> <li>Fedora Linux</li> <li>Updating</li> <li>Image-Builder Custom ISO</li> </ul>"},{"location":"homelab/fedora/#updating","title":"Updating","text":"<pre><code>sudo dnf --refresh upgrade\n\nsudo dnf system-upgrade download --releasever=42\n\n\nsudo dnf system-upgrade reboot\n</code></pre>"},{"location":"homelab/fedora/#image-builder-custom-iso","title":"Image-Builder Custom ISO","text":"<pre><code>name = \"debug-iso\"\ndescription = \"Adam's Debug Fedora ISO with my standard tools\"\nversion = \"0.0.1\"\nmodules = []\ngroups = []\n\n[[packages]]\nname = \"gdu\"\nversion = \"*\"\n\n[[packages]]\nname = \"htop\"\nversion = \"*\"\n\n[[packages]]\nname = \"btop\"\nversion = \"*\"\n\n[[packages]]\nname = \"curl\"\nversion = \"*\"\n\n[[packages]]\nname = \"fastfetch\"\nversion = \"*\"\n</code></pre> <pre><code>mkdir image-builder\ncd image-builder/\nvim debug-iso.toml\nsudo composer-cli blueprints push debug-iso.toml \nsudo composer-cli blueprints list \nsudo composer-cli blueprints depsolve debug-iso\nsudo composer-cli compose types\nsudo composer-cli compose start debug-iso live-installer\nsudo composer-cli compose status\nsudo composer-cli compose image 9b077777-0c59-4612-be9e-39cfd1fc8d9a\nmv 9b077777-0c59-4612-be9e-39cfd1fc8d9a-live-installer.iso fedora-40-adam.iso\n</code></pre>"},{"location":"homelab/grafana/","title":"Grafana / Prometheus","text":""},{"location":"homelab/grafana/#deleting-time-series-data","title":"Deleting Time Series Data","text":"<p>If you have old nodes that you renamed or no longer want to collect data from, and you want to delete their historical metrics, you can query the admin API to delete the data.</p> <p>In the docker-compose.yml file, add this flag to the prometheus container <code>command</code> section: <code>- '--web.enable-admin-api'</code>. Then, send a POST request to the prom server:</p> <pre><code>curl -u admin -X POST -g 'http://&lt;&lt;IP_of_prometheus_server&gt;&gt;:9090/api/v1/admin/tsdb/delete_series?match[]={job=\"&lt;&lt;job_name&gt;&gt;\"}'\n</code></pre>"},{"location":"homelab/hardware%20inventory/","title":"Hardware Inventory","text":""},{"location":"homelab/hardware%20inventory/#homelab-corner","title":"Homelab Corner","text":"<p>Checked items are currently in use.</p>"},{"location":"homelab/hardware%20inventory/#routers","title":"Router(s)","text":"In Use Router Model Link [X] Unifi Dream Router Link"},{"location":"homelab/hardware%20inventory/#switches","title":"Switch(es)","text":"In Use Router Model [X] Ruckus ICX 7150-C12P [ ] TP-Link TL-SG"},{"location":"homelab/hardware%20inventory/#access-points","title":"Access Point(s)","text":"In Use Router Model [ ] Unifi AP Lite 6"},{"location":"homelab/hardware%20inventory/#compute","title":"Compute","text":"In Use Host Use / Future Plans [ ] Thinkcentre M93p Proxmox Backup Server [X] Thinkcentre M93p Plex Server (intel graphics) [X] Beelink SER5 Mini Proxmox Virtualization Server"},{"location":"homelab/hardware%20inventory/#specsconfigs","title":"Specs/Configs","text":""},{"location":"homelab/hardware%20inventory/#ruckus-switch","title":"Ruckus Switch","text":"<p>Console connection settings:</p> Parameter Value Baud: Bits per second 9600 Data bits 8 Parity None Stop bits 1 Flow control None <p>Documentation on commands commands</p> <p>Lost password - forum</p> <p>Once the password is reset, follow this guide to set password for web-ui.</p> <pre><code>device&gt; enable\ndevice# configure terminal\ndevice(config)# crypto-ssl certificate generate\ndevice(config)# username &lt;username&gt; password &lt;password&gt;\ndevice(config)# aaa authentication login default local\ndevice(config)# aaa authentication web-server default local\ndevice(config)# no telnet server\ndevice(config)# enable aaa console\ndevice(config)# web-management https\ndevice(config)# password-change any\ndevice(config)# ip ssh timeout 30\ndevice(config)# ip ssh idle-time 20\ndevice(config)# console timeout 30\ndevice(config)# write memory\ndevice(config)# exit\ndevice#\n</code></pre>"},{"location":"homelab/hardware%20inventory/#virtualization-hosts","title":"Virtualization Hosts","text":"<p>Beelink Mini PC</p> <ul> <li>Ryzen 7 5800H</li> <li>2x16GB 3200MHz DDR4 Ram</li> </ul> Specs <p>lshw</p> <p>lshw-short</p> <p>Two of ThinkCentre M93p</p> <ul> <li>Core(TM) i7-4785T CPU</li> <li>2x8 GB SODIMM DDR3 1600 MHz</li> <li>256GB Samsung SSD 860</li> </ul>"},{"location":"homelab/hardware%20inventory/#truenas","title":"TrueNAS","text":"<p>Using network port enp4s0. enp1s0 is inactive</p> <p>New NAS:</p> <p>Ugreen NASync DX4800 Plus</p> <ul> <li>Intel Pentium Gold 8505</li> <li>32GB Ram</li> <li>4x12TB SATA HDD HGST Ultrastar DC HC 520 HUH721212ALE601</li> </ul> <p>Old NAS:</p> Component Part PCIe Card *LSI 9211-8i 6G SAS HBA FW:P20 IT Mode SAS Disks *HGST Ultrastar He10 10TB 7200RPM SAS 12Gbps GPU Gigabyte GTX 1050 OC Low Profile 2 GB <ul> <li>*RAM (model number): Hynix hmt41gr7bf4c-rd (88 GB 1600 MHz) mix of 16 GB + 8 GB sticks</li> <li>2x SFF-8087 SAS cables</li> </ul>"},{"location":"homelab/hardware%20inventory/#kyles-pc","title":"Kyle's PC","text":"<p>PC:</p> Component Part Specs Sheet Documentation Link Motherboard Asus ROG Strix B450-I Gaming Mini ITX AM4 ? ? CPU AMD Ryzen 5 3600 6-Core ? ? CPU Fan Noctua NH-L9a-AM4 33.84 CFM ? ? RAM *T-Force Vulcan Z16 DDR4-30000 CL16 ? ? Case SGPC ITX Case - K39 ? ? Boot Drive Samsung SSD 960 EVO 250GB ? ? <p>*Teamgroup T-Force Vulcan Z 16 GB (2 x 8 GB) DDR4-3000 CL16 Memory</p>"},{"location":"homelab/hardware%20inventory/#misc-hardware","title":"Misc Hardware","text":"<p>Wyze Cam v3</p> X-ES Firesale PC <p>lshw</p> <p>lshw-short</p>"},{"location":"homelab/ip-addresses/","title":"IP Addresses","text":""},{"location":"homelab/ip-addresses/#it-includes-all-things-networking","title":"It includes all things networking","text":"<p>Active Table</p> Hostname IP Address NEW IPs Purpose/Description router x...1 - router switch x...2 - switch vpn x...3 .4 twingate vpn server adam-linux-server x...7 .3 jump box general purpose linux server fedora x...9 fedora server for plex pve x...10 proxmox virtual environment k3s x...12 k3s control 1 ansible-server x...14 .11 ubuntu container - ansible server spicyNAS x...15 truenas storage server semaphore x...17 semaphore ansible controller docker-host x...20 VM for docker containers gitlab-runner x...21 gitlab-runner self hosted adam-wee-pc x...25 desktop coolify x...27 coolify server minecraft x...28 minecraft server minecraft-gg x...29 grass gang minecraft server talos helper container x...30 talosctl node talos-control x...31 talos Linux control node talos-worker x...32 talos linux worker node"},{"location":"homelab/linux%20administration/","title":"Linux Administration","text":""},{"location":"homelab/linux%20administration/#overview","title":"Overview","text":"<p>This page is dedicated to helpful commands, techniques, and packages to system administrators.</p>"},{"location":"homelab/linux%20administration/#links","title":"Links","text":"<p>Ubuntu Cloud Images</p>"},{"location":"homelab/linux%20administration/#common-tasks","title":"Common Tasks","text":""},{"location":"homelab/linux%20administration/#mounting-smb-share","title":"Mounting SMB Share","text":"<p>mount -t cifs -o username={{username}},password={{password}},domain={{domain}} //{{server}}/{{share}} //mnt/{{directory}}</p>"},{"location":"homelab/linux%20administration/#mounting-nfs-share","title":"Mounting NFS Share","text":"<p>mount -t nfs 10.10.0.10:/path/to/share /path/to/mount</p>"},{"location":"homelab/linux%20administration/#file-permissions","title":"File Permissions","text":"<p>Change ownership <code>chown &lt;username&gt; &lt;/path/to/file&gt;</code></p> <p>Change ownership recursively with the <code>-r</code> flag <code>chown -r &lt;username&gt; &lt;/path/to/file&gt;</code></p>"},{"location":"homelab/linux%20administration/#networking","title":"Networking","text":"<p><code>etc/network/interfaces</code> will contain information related to the interfaces</p> <p>DHCP release <code>dhclient -r</code></p> <p>DHCP renew <code>dhclient</code></p> <p>DHCP verbose <code>dhclient -v</code></p> <p>Manually set IP addresses <code>ip addr add 192.168.1.100/24 dev eth0</code></p>"},{"location":"homelab/linux%20administration/#netplan-configuration","title":"Netplan Configuration","text":"<pre><code>network:\n    version: 2\n    ethernets:\n        eth0:\n            addresses:\n                - 10.100.10.2/23\n            nameservers:\n                addresses: [1.1.1.1]\n            routes:\n                - to: default\n                  via: 10.100.10.1\n</code></pre>"},{"location":"homelab/linux%20administration/#cron","title":"Cron","text":"<p>Cron is a great way to schedule tasks on a linux system. Cron format looks like </p> <pre><code># minute hour day_of_month month day_of_week\n0 6 * * * /path/of/script\n\n# you can also call commands\n0 6 * * * uname -r &gt;&gt; /var/log/uname\n</code></pre> <p>It is good practice to set the time zone in the crontab file so your crons will run at the proper time</p> <pre><code># setting timezone for cron timers\nCRON_TZ=America/Detroit\n</code></pre>"},{"location":"homelab/linux%20administration/#systemd-timers","title":"Systemd Timers","text":"<p>Use <code>systemctl edit service_name.timer</code> to edit a service or timer with overrides. The <code>OnCalendar</code> directive is additive and does not override the existing value. You need to set a blank value before setting the \"override\" value. </p> <pre><code>[Timer]\nOnCalendar=\nOnCalendar=Mon *-*-* 03:00:00\n</code></pre> <p>Reference:</p> <ul> <li>https://unix.stackexchange.com/questions/479702/cannot-override-systemd-timer-with-specific-time</li> <li>https://www.freedesktop.org/software/systemd/man/latest/systemd.timer.html#OnActiveSec=</li> </ul>"},{"location":"homelab/linux%20administration/#commandpackage-mappings-and-locations","title":"Command/Package Mappings and Locations","text":"<p>When looking for the files a command maps to, you can use the <code>which</code> command. This shows the location of a command</p> <pre><code># ls -l $(which vi)\n-rwxr-xr-x. 1 root root 1180368 Jun 14  2022 /bin/vi\n</code></pre> <p>You can also look for alternatives if a command might map to two packages</p> <pre><code># ls -l /etc/alternatives/java\nlrwxrwxrwx. 1 root root 62 Jul 29 08:51 /etc/alternatives/java -&gt; /usr/lib/jvm/java-11-openjdk-11.0.23.0.9-3.el8.x86_64/bin/java\n</code></pre> <p>More command/file troubleshooting</p> <pre><code># rpm -qf /usr/lib/jvm/java-11-openjdk-11.0.23.0.9-3.el8.x86_64/bin/java\njava-11-openjdk-headless-11.0.23.0.9-3.el8.x86_64\n\n# alternatives --config java\n\nThere are 2 programs which provide 'java'.\n  Selection    Command\n-----------------------------------------------\n*+ 1           java-11-openjdk.x86_64 (/usr/lib/jvm/java-11-openjdk-11.0.23.0.9-3.el9.x86_64/bin/java)\n   2           java-1.8.0-openjdk.x86_64 (/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.412.b08-2.el9.x86_64/jre/bin/java)\nEnter to keep the current selection[+], or type selection number: 1\n# \n</code></pre>"},{"location":"homelab/linux%20administration/#swap","title":"Swap","text":"<p>Remove swap <code>swapoff -a</code></p> <p>Allocate swap <code>fallocate -l 2G /swapfile</code></p> <p>Set permissions for swap <code>chmod 600 /swapfile</code></p> <p>Make file usable as swap <code>mkswap /swapfile</code></p> <p>Activate swap <code>swapon /swapfile</code></p> <p>Make sure swap is permanent <code>vim /etc/fstab</code> <code># /swapfile swap swap defaults 0 0</code></p> <p>Show swap <code>swapon --show</code></p> <p>Show swap <code>free -h</code></p> <p>Show swappiness <code>cat /proc/sys/vm/swappiness</code></p>"},{"location":"homelab/linux%20administration/#zgrep","title":"Zgrep","text":"<p>Sometimes you need to search the contents of .gz files in your system. Unfortunately, grep doesn\u2019t work on compressed files. To overcome this, people usually advise to first decompress the file(s), and then grep your text, after that finally re-compress your file(s)\u2026</p> <p>You don\u2019t need to decompress them in the first place. You can use zgrep on compressed or gzipped files.</p> <p>To search in compressed file, execute the command :</p> <p><code>root@ck [~]#zgrep \u2018put-your-text-here\u2019 /your-file-path-here/file.gz</code></p> <p>Example : I want to grep \u2018plugged\u2019 in all of my exim_paniclog archived files.</p> <p><code>root@ck [~]# zgrep \u2018plugged\u2019 /var/log/exim_paniclog.*</code></p>"},{"location":"homelab/linux%20administration/#kernel-info","title":"Kernel Info","text":"<p>The core component of Linux is the kernel. It is written almost entirely in the C programming language. Kernel version are denoted by major verision, minor version, and revision number.</p> <p>Ex: typing <code>uname -r</code> into a a terminal will give you the following:</p> <pre><code>root@ubuntu:~# uname -r\n5.15.60-1\n</code></pre>"},{"location":"homelab/linux%20administration/#power-states","title":"Power States","text":"Command Description shutdown \u2013P +4 Powers off your system in four minute shutdown \u2013H +4 Halts the operating system from executing in four minutes, but does not invoke the ACPI function in your BIOS to turn off power to your computer shutdown \u2013r +4 Reboots your system in four minutes shutdown \u2013P now Powers off your system immediately shutdown \u2013r now Reboots your system immediately shutdown \u2013c Cancels a scheduled shutdown halt Halts your system immediately, but does not power it off poweroff Powers off your system immediately reboot Reboots your system immediately"},{"location":"homelab/linux%20administration/#shebang","title":"Shebang","text":"<p>The Shebang specifies the pathname to the shell that is used to interpret the contents of the script.</p> <p><code>#!usr/bin/bash</code> <code>#!usr/bin/python3</code></p>"},{"location":"homelab/linux%20administration/#boot-process","title":"Boot Process","text":"<ol> <li>UEFI / BIOS</li> <li>POST</li> <li>MBR/GPT</li> <li>UEFI System Partition</li> <li>Boot Loader</li> <li>/boot/linux-5.4.2 (kernel)</li> <li>Init or Systemd, systemd is more common now</li> <li>Daemons</li> </ol>"},{"location":"homelab/linux%20administration/#target","title":"Target","text":"<p>Target maps are the newer terminilogy and implementation of runlevels.</p> <ol> <li>Poweroff.target - runlevel 0</li> <li>Rescure.target - runlevel 1</li> <li>Multi-user.target - runlevels 2, 3, and 4</li> <li>Graphical.target - runlevel 5</li> <li>Reboot.target - runlevel 6</li> </ol>"},{"location":"homelab/linux%20administration/#runlevels","title":"Runlevels","text":"<p>Runlevels are the older terminology that correspond to different target maps.</p> <p>The most common runlevels are 3 and 5 - terminal and GUI, respectively.</p> <p>0 - Halt 1 - Single User 2 - Multi User 3 - Multi User with Networking 4 - User defined 5 - Multi User with Networking and GUI 6 - Reboot</p>"},{"location":"homelab/netdata/","title":"Netdata","text":""},{"location":"homelab/netdata/#overview","title":"Overview","text":"<p>Commands for test notification:</p> <p><code>/usr/libexec/netdata/plugins.d/alarm-notify.sh test</code></p>"},{"location":"homelab/netdata/#config-for-discord","title":"Config for Discord","text":"<pre><code># Configuration for alarm notifications\n#\n# This configuration is used by: alarm-notify.sh\n# changes take effect immediately (the next alarm will use them).\n#\n# alarm-notify.sh can send:\n# - e-mails (using the sendmail command),\n# - push notifications to your mobile phone (pushover.net),\n# - messages to your slack team (slack.com),\n# - messages to your alerta server (alerta.io),\n# - messages to your flock team (flock.com),\n# - messages to your discord guild (discord.com),\n# - messages to your telegram chat / group chat (telegram.org)\n# - sms messages to your cell phone or any sms enabled device (twilio.com)\n# - sms messages to your cell phone or any sms enabled device (messagebird.com)\n# - sms messages to your cell phone or any sms enabled device (smstools3)\n# - notifications to users on pagerduty.com\n# - push notifications to iOS devices (via prowlapp.com)\n# - notifications to Amazon SNS topics (aws.amazon.com)\n# - messages to your irc channel on your selected network\n# - messages to a local or remote syslog daemon\n# - message to Microsoft Teams (through webhook)\n# - message to Rocket.Chat (through webhook)\n# - push notifications to your mobile phone or desktop (ntfy.sh)\n#\n# The 'to' line given at netdata alarms defines a *role*, so that many\n# people can be notified for each role.\n#\n# This file is a BASH script itself.\n#\n#\n#------------------------------------------------------------------------------\n# proxy configuration\n#\n# If you need to send curl based notifications (pushover, pushbullet, slack, alerta,\n# flock, discord, telegram) via a proxy, set these to your proxy address:\n#export http_proxy=\"http://10.0.0.1:3128/\"\n#export https_proxy=\"http://10.0.0.1:3128/\"\n\n\n#------------------------------------------------------------------------------\n# notifications images\n#\n# Images in notifications need to be downloaded from an Internet facing site.\n# To allow notification providers fetch the icons/images, by default we set\n# the URL of the global public netdata registry.\n# If you have an Internet facing netdata (or you have copied the images/ folder\n# of netdata to your web server), set its URL here, to fetch the notification\n# images from it.\n#images_base_url=\"http://my.public.netdata.server:19999\"\n\n\n#------------------------------------------------------------------------------\n# date handling\n#\n# You can configure netdata alerts to send dates in any format you want.\n# This uses standard `date` command format strings.  See `man date` for\n# more info on what you can put in here.  Note that this has to start with a '+', otherwise it won't work.\n#\n# For ISO 8601 dates, use '+%FT%T%z'\n# For RFC 5322 dates, use '+%a, %d %b %Y %H:%M:%S %z'\n# For RFC 3339 dates, use '+%F %T%:z'\n# For RFC 1123 dates, use '+%a, %d %b %Y %H:%M:%S %Z'\n# For RFC 1036 dates, use '+%A, %d-%b-%y %H:%M:%S %Z'\n# For a reasonably local date and time (in that order), use '+%x %X'\n# For the old default behavior (compatible with ANSI C's asctime() function), leave this empty.\ndate_format=''\n\n\n#------------------------------------------------------------------------------\n# hostname handling\n#\n# By default, Netdata will use the simple hostname for the system (the\n# hostname with everything after the first `.` removed) when displaying\n# the hostname in alert notifications.  If you prefer, you can uncomment\n# the line below to have Netdata instead use the host's fully qualified\n# domain name.\n#\n# This does not report correct FQDN's for child systems for which this\n# system is a parent.\n#\n# Additionally, if the system host name is overridden in /etc/netdata.conf\n# with the `hostname` option, that name will be used unconditionally\n# instead of this.\n#use_fqdn='YES'\n\n\n#------------------------------------------------------------------------------\n# external commands\n\n# The full path to the sendmail command.\n# If empty, the system $PATH will be searched for it.\n# If not found, email notifications will be disabled (silently).\nsendmail=\"\"\n\n# The full path of the curl command.\n# If empty, the system $PATH will be searched for it.\n# If not found, most notifications will be silently disabled.\ncurl=\"\"\n\n# The full path of the nc command.\n# If empty, the system $PATH will be searched for it.\n# If not found, irc notifications will be silently disabled.\nnc=\"\"\n\n# The full path of the logger command.\n# If empty, the system $PATH will be searched for it.\n# If not found, syslog notifications will be silently disabled.\nlogger=\"\"\n\n# The full path of the aws command.\n# If empty, the system $PATH will be searched for it.\n# If not found, Amazon SNS notifications will be silently disabled.\naws=\"\"\n\n# The full path of the sendsms command (smstools3).\n# If empty, the system $PATH will be searched for it.\n# If not found, SMS notifications will be silently disabled.\nsendsms=\"\"\n\n#------------------------------------------------------------------------------\n# extra options for external commands\n#\n# In some cases, you may need to change what options get passed to an\n# external command.  Such cases are covered here.\n\n# Extra options to pass to curl.  In most cases, you shouldn't need to add anything\n# to this.  If you're having issues with HTTPS connections, you might try adding\n# '--insecure' here, but be warned that it will make it much easier for\n# third-parties to block notification delivery, and may allow disclosure\n# of potentially sensitive information.\n#curl_options=\"--insecure\"\n\n# Extra options to pass to logger.  You shouldn't have to specify anything\n# here in most cases.\n#logger_options=\"\"\n\n#------------------------------------------------------------------------------\n# extra options\n\n# By default don't do anything if this is CLEAR, but it was not WARNING or CRITICAL.\n# You can send it always if your system makes deduplication for alarms.\n#clear_alarm_always='YES'\n\n#\n#------------------------------------------------------------------------------\n# NOTE ABOUT RECIPIENTS\n#\n# When you define recipients (all types):\n#\n#  - emails addresses\n#  - pushover user tokens\n#  - telegram chat ids\n#  - slack channels\n#  - alerta environment\n#  - flock rooms\n#  - discord channels\n#  - hipchat rooms\n#  - sms phone numbers\n#  - pagerduty.com (pd) services\n#  - irc channels\n#\n# You can append modifiers to limit the notifications to be sent:\n# |critical - Send critical notifications and following status changes until\n#             the alarm is cleared.\n# |nowarn   - Do not send warning notifications.\n# |noclear  - Do not send clear notifications.\n#\n# In these examples, the first recipient receives all the alarms\n# while the second one receives only notifications for alarms that \n# have at some point become critical. The second user may still receive\n# warning and clear notifications, but only for the event that previously \n# caused a critical alarm.\n#\n#  email      : \"user1@example.com user2@example.com|critical\"\n#  pushover   : \"2987343...9437837 8756278...2362736|critical\"\n#  telegram   : \"111827421 112746832|critical\"\n#  slack      : \"alarms disasters|critical\"\n#  alerta     : \"alarms disasters|critical\"\n#  flock      : \"alarms disasters|critical\"\n#  discord    : \"alarms disasters|critical\"\n#  twilio     : \"+15555555555 +17777777777|critical\"\n#  messagebird: \"+15555555555 +17777777777|critical\"\n#  kavenegar  : \"09155555555 09177777777|critical\"\n#  pd         : \"&lt;pd_service_key_1&gt; &lt;pd_service_key_2&gt;|critical\"\n#  irc        : \"&lt;irc_channel_1&gt; &lt;irc_channel_2&gt;|critical\"\n#\n# You can append multiple modifiers. In this example, recipient receives\n# notifications for critical alarms and following status changes except clear\n# notifications.\n#  email      : \"user1@example.com|critical|noclear\"\n#\n# If a recipient is set to empty string, the default recipient of the given\n# notification method (email, pushover, telegram, slack, alerta, etc) will be used.\n# To disable a notification, use the recipient called: disabled\n# This works for all notification methods (including the default recipients).\n\n\n#------------------------------------------------------------------------------\n# email global notification options\n\n# multiple recipients can be given like this:\n#              \"admin1@example.com admin2@example.com ...\"\n\n# the email address sending email notifications\n# the default is the system user netdata runs as (usually: netdata)\n# The following formats are supported:\n# EMAIL_SENDER=\"user@domain\"\n# EMAIL_SENDER=\"User Name &lt;user@domain&gt;\"\n# EMAIL_SENDER=\"'User Name' &lt;user@domain&gt;\"\n# EMAIL_SENDER=\"\\\"User Name\\\" &lt;user@domain&gt;\"\nEMAIL_SENDER=\"\"\n\n# enable/disable sending emails, set this YES, or NO, AUTO to enable/disable based on sendmail availability\nSEND_EMAIL=\"NO\"\n\n# if a role recipient is not configured, an email will be send to:\nDEFAULT_RECIPIENT_EMAIL=\"root\"\n# to receive only critical alarms, set it to \"root|critical\"\n\n# Optionally specify the encoding to list in the Content-Type header.\n# This doesn't change what encoding the e-mail is sent with, just what\n# the headers say it was encoded as.\n# This shouldn't need to be changed as it will almost always be\n# autodetected from the environment.\n#EMAIL_CHARSET=\"UTF-8\"\n\n# You can also have netdata add headers to the message that will\n# cause most e-mail clients to treat all notifications for a given\n# chart+alarm+host combination as a single thread.  This can help\n# simplify tracking of alarms, as it provides an easy way for scripts\n# to correlate messages and also will cause most clients to group all the\n# messages together.  This is enabled by default, uncomment the line\n# below if you want to disable it.\n#EMAIL_THREADING=\"NO\"\n\n# By default, netdata sends HTML and Plain Text emails, some clients\n# do not parse HTML emails such as command line clients.\n# To make emails readable in these clients, you can configure netdata\n# to not send HTML but Plain Text only emails.\n#EMAIL_PLAINTEXT_ONLY=\"YES\"\n\n#------------------------------------------------------------------------------\n# Dynatrace global notification options\n#------------------------------------------------------------------------------\n# enable/disable sending Dynatrace notifications\nSEND_DYNATRACE=\"NO\"\n\n# The Dynatrace server with protocol prefix (http:// or https://), example https://monitor.illumineit.com\n# Required\nDYNATRACE_SERVER=\"\"\n\n# Generate a Dynatrace API authentication token\n# Read https://www.dynatrace.com/support/help/extend-dynatrace/dynatrace-api/basics/dynatrace-api-authentication/ \n# On Dynatrace server goto Settings --&gt; Integration --&gt; Dynatrace API --&gt; Generate token\n# Required\nDYNATRACE_TOKEN=\"\"\n\n# Beware: Space is taken from dynatrace URL from browser when you create the TOKEN\n# Required\nDYNATRACE_SPACE=\"\"\n\n# Generate a Server Tag. On the Dynatrace Server go to Settings --&gt; Tags --&gt; Manually applied tags create the Tag\n# The Netdata alarm will be sent as a Dynatrace Event to be correlated with all those hosts tagged with this Tag\n# you created.\n# Required\nDYNATRACE_TAG_VALUE=\"\"\n\n# Change this to what you want\nDYNATRACE_ANNOTATION_TYPE=\"Netdata Alarm\"\n\n# This can be CUSTOM_INFO, CUSTOM_ANNOTATION, CUSTOM_CONFIGURATION, CUSTOM_DEPLOYMENT\n# Applying default value\n# Required\nDYNATRACE_EVENT=\"CUSTOM_INFO\"\n\n\nDEFAULT_RECIPIENT_DYNATRACE=\"\"\n\n#------------------------------------------------------------------------------\n# gotify global notification options\nSEND_GOTIFY=\"NO\"\n\n# App token and url\nGOTIFY_APP_TOKEN=\"\"\nGOTIFY_APP_URL=\"\"\n\nDEFAULT_RECIPIENT_GOTIFY=\"\"\n\n#------------------------------------------------------------------------------\n# opsgenie global notification options\nSEND_OPSGENIE=\"NO\"\n\n# Api key\nOPSGENIE_API_KEY=\"\"\nOPSGENIE_API_URL=\"\"\n\nDEFAULT_RECIPIENT_OPSGENIE=\"\"\n\n#------------------------------------------------------------------------------\n# pushover (pushover.net) global notification options\n\n# multiple recipients can be given like this:\n#                  \"USERTOKEN1 USERTOKEN2 ...\"\n\n# enable/disable sending pushover notifications\nSEND_PUSHOVER=\"NO\"\n\n# Login to pushover.net to get your pushover app token.\n# You need only one for all your netdata servers (or you can have one for\n# each of your netdata - your call).\n# Without an app token, netdata cannot send pushover notifications.\nPUSHOVER_APP_TOKEN=\"\"\n\n# if a role's recipients are not configured, a notification will be send to\n# this pushover user token (empty = do not send a notification for unconfigured\n# roles):\nDEFAULT_RECIPIENT_PUSHOVER=\"\"\n\n\n#------------------------------------------------------------------------------\n# pushbullet (pushbullet.com) push notification options\n\n# multiple recipients can be given like this:\n#                  \"user1@email.com user2@mail.com\"\n\n# enable/disable sending pushbullet notifications\nSEND_PUSHBULLET=\"NO\"\n\n# Signup and Login to pushbullet.com\n# To get your Access Token, go to https://www.pushbullet.com/#settings/account\n# Create a new access token and paste it below.\n# Then just set the recipients' emails.\n# Please note that the if the email in the DEFAULT_RECIPIENT_PUSHBULLET does\n# not have a pushbullet account, the pushbullet service will send an email\n# to that address instead.\n\n# Without an access token, netdata cannot send pushbullet notifications.\nPUSHBULLET_ACCESS_TOKEN=\"\"\nDEFAULT_RECIPIENT_PUSHBULLET=\"\"\n\n# Device iden of the sending device. Optional.\nPUSHBULLET_SOURCE_DEVICE=\"\"\n\n\n#------------------------------------------------------------------------------\n# Twilio (twilio.com) SMS options\n\n# multiple recipients can be given like this:\n#                  \"+15555555555 +17777777777\"\n\n# enable/disable sending twilio SMS\nSEND_TWILIO=\"NO\"\n\n# Signup for free trial and select a SMS capable Twilio Number\n# To get your Account SID and Token, go to https://www.twilio.com/console\n# Place your sid, token and number below.\n# Then just set the recipients' phone numbers.\n# The trial account is only allowed to use the number specified when set up.\n\n# Without an account sid and token, netdata cannot send Twilio text messages.\nTWILIO_ACCOUNT_SID=\"\"\nTWILIO_ACCOUNT_TOKEN=\"\"\nTWILIO_NUMBER=\"\"\nDEFAULT_RECIPIENT_TWILIO=\"\"\n\n\n#------------------------------------------------------------------------------\n# Messagebird (messagebird.com) SMS options\n\n# multiple recipients can be given like this:\n#                  \"+15555555555 +17777777777\"\n\n# enable/disable sending messagebird SMS\nSEND_MESSAGEBIRD=\"NO\"\n\n# to get an access key, create a free account at https://www.messagebird.com\n# verify and activate the account (no CC info needed)\n# login to your account and enter your phonenumber to get some free credits\n# to get the API key, click on 'API' in the sidebar, then 'API Access (REST)'\n# click 'Add access key' and fill in data (you want a live key to send SMS)\n\n# Without an access key, netdata cannot send Messagebird text messages.\nMESSAGEBIRD_ACCESS_KEY=\"\"\nMESSAGEBIRD_NUMBER=\"\"\nDEFAULT_RECIPIENT_MESSAGEBIRD=\"\"\n\n\n#------------------------------------------------------------------------------\n# Kavenegar (Kavenegar.com) SMS options\n\n# multiple recipients can be given like this:\n#                  \"09155555555 09177777777\"\n\n# enable/disable sending kavenegar SMS\nSEND_KAVENEGAR=\"NO\"\n\n# to get an access key, after selecting and purchasing your desired service\n# at http://kavenegar.com/pricing.html\n# login to your account, go to your dashboard and my account are\n# https://panel.kavenegar.com/Client/setting/account from API Key\n# copy your api key. You can generate new API Key too.\n# You can find and select kevenegar sender number from this place.\n\n# Without an API key, netdata cannot send KAVENEGAR text messages.\nKAVENEGAR_API_KEY=\"\"\nKAVENEGAR_SENDER=\"\"\nDEFAULT_RECIPIENT_KAVENEGAR=\"\"\n\n\n#------------------------------------------------------------------------------\n# telegram (telegram.org) global notification options\n\n# multiple recipients can be given like this:\n#                  \"CHAT_ID_1 CHAT_ID_2 ...\"\n\n# enable/disable sending telegram messages\nSEND_TELEGRAM=\"NO\"\n\n# Contact the bot @BotFather to create a new bot and receive a bot token.\n# Without it, netdata cannot send telegram messages.\nTELEGRAM_BOT_TOKEN=\"\"\n\n# If an API limit error is returned on sending a message, Netdata will retry this number of times before giving up.\n# Setting the number to 0 makes Netdata do no retries (which is the default).\n# See https://core.telegram.org/bots/faq#my-bot-is-hitting-limits-how-do-i-avoid-this\nTELEGRAM_RETRIES_ON_LIMIT=\"0\"\n\n# To get your chat ID send the command /getid to telegram bot @myidbot\n# (https://t.me/myidbot). Each user also needs to open a conversation with the\n# bot that will be sending notifications.\n# If a role's recipients are not configured, a message will be sent to\n# this chat id (empty = do not send a notification for unconfigured roles):\nDEFAULT_RECIPIENT_TELEGRAM=\"\"\n\n\n#------------------------------------------------------------------------------\n# slack (slack.com) global notification options\n\n# multiple recipients can be given like this:\n#                  \"RECIPIENT1 RECIPIENT2 ...\"\n\n# enable/disable sending slack notifications\nSEND_SLACK=\"NO\"\n\n# Login to your slack.com workspace and create an incoming webhook, using the \"Incoming Webhooks\" App: https://slack.com/apps/A0F7XDUAZ-incoming-webhooks\n# Do not use the instructions in https://api.slack.com/incoming-webhooks#enable_webhooks, as those webhooks work only for a single channel.\n# You need only one for all your netdata servers (or you can have one for each of your netdata).\n# Without the app and a webhook, netdata cannot send slack notifications.\nSLACK_WEBHOOK_URL=\"\"\n\n# if a role's recipients are not configured, a notification will be send to:\n# - A slack channel (syntax: '#channel' or 'channel')\n# - A slack user (syntax: '@user')\n# - The channel or user defined in slack for the webhook (syntax: '#')\n# empty = do not send a notification for unconfigured roles\nDEFAULT_RECIPIENT_SLACK=\"\"\n\n#------------------------------------------------------------------------------\n# Microsoft Teams (office.com) global notification options\n# More details are available here regarding the payload syntax options:\n# https://docs.microsoft.com/en-us/outlook/actionable-messages/message-card-reference\n# Online designer : https://adaptivecards.io/designer/\n# multiple recipients can be given like this:\n#                  \"CHANNEL1 CHANNEL2 ...\"\n\n# enable/disable sending teams notifications\nSEND_MSTEAMS=\"NO\"\n\n# In Microsoft Teams the channel name is encoded in the URI after \n# .../IncomingWebhook/...\n# You have to replace the encoded channel name by the placeholder `CHANNEL`\n# in `MSTEAMS_WEBHOOK_URL`. The placeholder `CHANNEL` will be replaced by the\n# actual encoded channel name before sending the notification.\nMSTEAMS_WEBHOOK_URL=\"\"\n\n# if a role's recipients are not configured, a notification will be send to\n# this Teams channel (empty = do not send a notification for unconfigured\n# roles):\n# Put the different encoded channel names here like : \"CHANNEL1 CHANNEL2 ...\"\n# AT LEAST ONE CHANNEL IS MANDATORY\nDEFAULT_RECIPIENT_MSTEAMS=\"\"\n\n# Define the default color scheme for alert to MS Teams - icon and color\n# Icons - go to https://emojipedia.org/bomb/\nMSTEAMS_ICON_DEFAULT=\"\u2661\"\nMSTEAMS_ICON_CLEAR=\"\ud83d\udc9a\"\nMSTEAMS_ICON_WARNING=\"\u26a0\ufe0f\"\nMSTEAMS_ICON_CRITICAL=\"\ud83d\udd25\"\n\n# Colors\nMSTEAMS_COLOR_DEFAULT=\"0076D7\"\nMSTEAMS_COLOR_CLEAR=\"65A677\"\nMSTEAMS_COLOR_WARNING=\"FFA500\"\nMSTEAMS_COLOR_CRITICAL=\"D93F3C\"\n\n\n#------------------------------------------------------------------------------\n# rocketchat (rocket.chat) global notification options\n\n# multiple recipients can be given like this:\n#                  \"CHANNEL1 CHANNEL2 ...\"\n\n# enable/disable sending rocketchat notifications\nSEND_ROCKETCHAT=\"NO\"\n\n# Login to rocket.chat and create an incoming webhook. You need only one for all\n# your netdata servers (or you can have one for each of your netdata).\n# Without it, netdata cannot send rocketchat notifications.\nROCKETCHAT_WEBHOOK_URL=\"\"\n\n# if a role's recipients are not configured, a notification will be send to\n# this rocketchat channel (empty = do not send a notification for unconfigured\n# roles):\nDEFAULT_RECIPIENT_ROCKETCHAT=\"\"\n\n\n#------------------------------------------------------------------------------\n# alerta (alerta.io) global notification options\n\n# multiple recipients (Environments) can be given like this:\n#                  \"Production Development ...\"\n\n# enable/disable sending alerta notifications\nSEND_ALERTA=\"NO\"\n\n# here set your alerta server API url\n# this is the API url you defined when installed Alerta server,\n# it is the same for all users. Do not include last slash.\n# ALERTA_WEBHOOK_URL=\"https://&lt;server&gt;/alerta/api\"\nALERTA_WEBHOOK_URL=\"\"\n\n# Login with an administrative user to you Alerta server and create an API KEY\n# with write permissions.\nALERTA_API_KEY=\"\"\n\n# you can define environments in /etc/alertad.conf option ALLOWED_ENVIRONMENTS\n# standard environments are Production and Development\n# if a role's recipients are not configured, a notification will be send to\n# this Environment (empty = do not send a notification for unconfigured roles):\nDEFAULT_RECIPIENT_ALERTA=\"\"\n\n\n#------------------------------------------------------------------------------\n# flock (flock.com) global notification options\n\n# enable/disable sending flock notifications\nSEND_FLOCK=\"NO\"\n\n# Login to flock.com and create an incoming webhook. You need only one for all\n# your netdata servers (or you can have one for each of your netdata).\n# Without it, netdata cannot send flock notifications.\nFLOCK_WEBHOOK_URL=\"\"\n\n# if a role recipient is not configured, no notification will be sent\nDEFAULT_RECIPIENT_FLOCK=\"\"\n\n\n#------------------------------------------------------------------------------\n# discord (discord.com) global notification options\n\n# multiple recipients can be given like this:\n#                  \"CHANNEL1 CHANNEL2 ...\"\n\n# enable/disable sending discord notifications\nSEND_DISCORD=\"YES\"\n\n# Create a webhook by following the official documentation -\n# https://support.discord.com/hc/en-us/articles/228383668-Intro-to-Webhooks\nDISCORD_WEBHOOK_URL=\"&lt;&lt;paste discord webhook here&gt;&gt;\"\n\n# if a role's recipients are not configured, a notification will be send to\n# this discord channel (empty = do not send a notification for unconfigured\n# roles):\nDEFAULT_RECIPIENT_DISCORD=\"netdata\"\n\n\n#------------------------------------------------------------------------------\n# hipchat global notification options\n\n# multiple recipients can be given like this:\n#                  \"ROOM1 ROOM2 ...\"\n\n# enable/disable sending hipchat notifications\nSEND_HIPCHAT=\"NO\"\n\n# define hipchat server\nHIPCHAT_SERVER=\"api.hipchat.com\"\n\n# api.hipchat.com authorization token\n# Without this, netdata cannot send hipchat notifications.\nHIPCHAT_AUTH_TOKEN=\"\"\n\n# if a role's recipients are not configured, a notification will be send to\n# this hipchat room (empty = do not send a notification for unconfigured\n# roles):\nDEFAULT_RECIPIENT_HIPCHAT=\"\"\n\n\n#------------------------------------------------------------------------------\n# kafka notification options\n\n# enable/disable sending kafka notifications\nSEND_KAFKA=\"NO\"\n\n# The URL to POST kafka alarm data to. It should be the full URL.\nKAFKA_URL=\"\"\n\n# The IP to be used in the kafka message as the sender.\nKAFKA_SENDER_IP=\"\"\n\n\n#------------------------------------------------------------------------------\n# pagerduty.com notification options\n#\n# pagerduty.com notifications require a \"Generic API\" (Events v1)\n# pagerduty service.\n# https://support.pagerduty.com/docs/services-and-integrations\n\n# multiple recipients can be given like this:\n#              \"&lt;pd_service_key_1&gt; &lt;pd_service_key_2&gt; ...\"\n\n# enable/disable sending pagerduty notifications\nSEND_PD=\"NO\"\n\n# if a role's recipients are not configured, a notification will be sent to\n# the \"General API\" pagerduty.com service that uses this service key.\n# (empty = do not send a notification for unconfigured roles):\nDEFAULT_RECIPIENT_PD=\"\"\n\n# Which PD API are we going to use? For version 2 or newer, it is necessary to do a request for Pagerduty\n# before to set the version(https://developer.pagerduty.com/docs/events-api-v2/overview/).\nUSE_PD_VERSION=\"1\"\n\n#------------------------------------------------------------------------------\n# fleep notification options\n#\n# To send fleep.io notifications, you will need a webhook for the\n# conversation you want to send to.\n\n# Fleep recipients are specified as the last part of the webhook URL.\n# So, for a webhook URL of: https://fleep.io/hook/IJONmBuuSlWlkb_ttqyXJg, the\n# recipient name would be: 'IJONmBuuSlWlkb_ttqyXJg'.\n\n# enable/disable sending fleep notifications\nSEND_FLEEP=\"NO\"\n\n# if a role's recipients are not configured, a notification will not be sent.\n# (empty = do not send a notification for unconfigured roles):\nDEFAULT_RECIPIENT_FLEEP=\"\"\n\n# The user name to label the messages with.  If this is unset,\n# the hostname of the system the notification is for will be used.\nFLEEP_SENDER=\"\"\n\n\n#------------------------------------------------------------------------------\n# irc notification options\n#\n# irc notifications require only the nc utility to be installed.\n\n# multiple recipients can be given like this:\n#              \"&lt;irc_channel_1&gt; &lt;irc_channel_2&gt; ...\"\n\n# enable/disable sending irc notifications\nSEND_IRC=\"NO\"\n\n# if a role's recipients are not configured, a notification will not be sent.\n# (empty = do not send a notification for unconfigured roles):\nDEFAULT_RECIPIENT_IRC=\"\"\n\n# The irc network to which the recipients belong. It must be the full network.\n# e.g. \"irc.freenode.net\"\nIRC_NETWORK=\"\"\n\n# The irc port to which a connection will occur.\n# e.g. 6667 (the default one), 6697 (a TLS/SSL one)\nIRC_PORT=6667\n\n# The irc nickname which is required to send the notification. It must not be\n# an already registered name as the connection's MODE is defined as a 'guest'.\nIRC_NICKNAME=\"\"\n\n# The irc realname which is required in order to make the connection and is an\n# extra identifier.\nIRC_REALNAME=\"\"\n\n\n#------------------------------------------------------------------------------\n# syslog notifications\n#\n# syslog notifications only need you to have a working logger command, which\n# should be the case on pretty much any Linux system.\n\n# enable/disable sending syslog notifications\n# NOTE: make sure you have everything else configured the way you want\n# it _before_ turning this on.\nSEND_SYSLOG=\"NO\"\n\n# A note on log levels and facilities:\n#\n# The traditional UNIX syslog mechanism has the concept of both log\n# levels and facilities.  A log level indicates the relative severity of\n# the message, while a facility specifies a generic source for the message\n# (for example, the `mail` facility is where sendmail and postfix log\n# their messages).  All major syslog daemons have the ability to filter\n# messages based on both log level and facility, and can often also make\n# routing decisions for messages based on both factors.\n#\n# On Linux, the eight log levels in decreasing order of severity are:\n# emerg, alert, crit, err, warning, notice, info, debug\n#\n# By default, warnings will be logged at the warning level, critical\n# alerts at the crit level, and clear notifications at the invo level.\n#\n# And the 19 facilities you can log to are:\n# auth, authpriv, cron, daemon, ftp, lpr, mail, news, syslog, user,\n# uucp, local0, local1, local2, local3, local4, local5, local6, and local7\n#\n# By default, netdata alerts will be logged to the local6 facility.\n#\n# Depending on your distribution, this means that either all your\n# netdata alerts will by default end up in the main system log (usually\n# /var/log/messages), or they won't be logged to a file at all.\n# Neither of these are likely to be what you actually want, but any\n# configuration to change that needs to happen in the syslog daemon\n# configuration, not here.\n\n# This controls which facility is used by default for logging.  Defaults\n# to local6.\nSYSLOG_FACILITY=''\n\n# If a role's recipients are not configured, use the following.\n# (empty = do not send a notification for unconfigured roles)\n#\n# The recipient format for syslog uses the following format:\n# [[facility.level][@host[:port]]/]prefix\n#\n# `prefix` gets appended to the front of all log messages generated for\n# that recipient.  The prefix is mandatory.\n# 'host' and 'port' can be used to specify a remote syslog server to\n# send messages to.  Leave these out if you want messages to be delivered\n# locally.  'host' can be either a hostname or an IP address.\n# IPv6 addresses must have square around them.\n# 'facility' and 'level' are used to override the default logging facility\n# set above and the log level.  If one is specified, both must be present.\n#\n# For example, to send messages with a 'netdata' prefix to a syslog\n# daemon listening on port 514 on 'loghost' using the daemon facility and\n# notice log level:\n# DEFAULT_RECIPIENT_SYSLOG='daemon.notice@loghost:514/netdata'\n#\nDEFAULT_RECIPIENT_SYSLOG=\"netdata\"\n\n#------------------------------------------------------------------------------\n# iOS Push Notifications\n\n# enable/disable sending iOS push notifications\nSEND_PROWL=\"NO\"\n\n# If a role's recipients are not configured, use the following,\n# (empty = do not send a notification for unconfigured roles)\n#\n# Recipients for iOS push notifications are Prowl API keys.\n#\n# A recipient may also consist of multiple Prowl API keys separated by\n# commas, in which case notifications will be simultaneously sent for all\n# of those API keys.\nDEFAULT_RECIPIENT_PROWL=\"\"\n\n#------------------------------------------------------------------------------\n# Amazon SNS notifications\n#\n# This method requires potentially complex manual configuration.  See the\n# netdata wiki for information on what is needed.\n\n# enable/disable sending Amazon SNS notifications\nSEND_AWSSNS=\"NO\"\n\n# Specify a template for the Amazon SNS notifications.  This supports\n# the same set of variables that are usable in the `custom_sender()`\n# function in the custom notification configuration below.\n#\nAWSSNS_MESSAGE_FORMAT=\"${status} on ${host} at ${date}: ${chart} ${value_string}\"\n\n# If a role's recipients are not configured, use the following.\n# (empty = do not send a notification for unconfigured roles)\n#\n# Recipients for AWS SNS notifications are specified as topic ARN's.\n#\nDEFAULT_RECIPIENT_AWSSNS=\"\"\n\n#------------------------------------------------------------------------------\n# SMS Server Tools 3 (smstools3) global notification options\n\n# enable/disable sending SMS Server Tools 3 SMS notifications\nSEND_SMS=\"NO\"\n\n# if a role's recipients are not configured, a notification will be sent to\n# this SMS channel (empty = do not send a notification for unconfigured\n# roles). Multiple recipients can be given like this: \"PHONE1 PHONE2 ...\"\n\nDEFAULT_RECIPIENT_SMS=\"\"\n\n# Matrix notifications\n#\n\n# enable/disable Matrix notifications\nSEND_MATRIX=\"NO\"\n\n# The url of the Matrix homeserver\n# e.g https://matrix.org:8448\nMATRIX_HOMESERVER=\n\n# An access token from a valid Matrix account. Tokens usually don't expire,\n# can be controlled from a Matrix client.\n# See https://matrix.org/docs/guides/client-server.html\nMATRIX_ACCESSTOKEN=\n\n# Specify the default rooms to receive the notification if no rooms are provided\n# in a role's recipients.\n# The format is !roomid:homeservername\nDEFAULT_RECIPIENT_MATRIX=\"\"\n\n#------------------------------------------------------------------------------\n# ntfy.sh global notification options\n\n# enable/disable sending ntfy notifications\nSEND_NTFY=\"NO\"\n\n# optional NTFY username\nNTFY_USERNAME=\"\"\n\n# optional NTFY password\nNTFY_PASSWORD=\"\"\n\n# optional NTFY access token\nNTFY_ACCESS_TOKEN=\"\"\n\n# if a role's recipients are not configured, a notification will be sent to\n# this ntfy server / topic combination (empty = do not send a notification for \n# unconfigured roles). \n# Multiple recipients can be given like this: \"https://SERVER1/TOPIC1 https://SERVER2/TOPIC2 ...\"\nDEFAULT_RECIPIENT_NTFY=\"\"\n\n#------------------------------------------------------------------------------\n# custom notifications\n#\n\n# enable/disable sending custom notifications\nSEND_CUSTOM=\"NO\"\n\n# if a role's recipients are not configured, use the following.\n# (empty = do not send a notification for unconfigured roles)\nDEFAULT_RECIPIENT_CUSTOM=\"\"\n\n# The custom_sender() is a custom function to do whatever you need to do\ncustom_sender() {\n    # variables you can use:\n    # ${host}               the host generated this event\n    # ${url_host}           same as ${host} but URL encoded\n    # ${unique_id}          the unique id of this event\n    # ${alarm_id}           the unique id of the alarm that generated this event\n    # ${event_id}           the incremental id of the event, for this alarm id\n    # ${when}               the timestamp this event occurred\n    # ${name}               the name of the alarm, as given in netdata health.d entries\n    # ${url_name}           same as ${name} but URL encoded\n    # ${chart}              the name of the chart (type.id)\n    # ${url_chart}          same as ${chart} but URL encoded\n    # ${status}             the current status : REMOVED, UNINITIALIZED, UNDEFINED, CLEAR, WARNING, CRITICAL\n    # ${old_status}         the previous status: REMOVED, UNINITIALIZED, UNDEFINED, CLEAR, WARNING, CRITICAL\n    # ${value}              the current value of the alarm\n    # ${old_value}          the previous value of the alarm\n    # ${src}                the line number and file the alarm has been configured\n    # ${duration}           the duration in seconds of the previous alarm state\n    # ${duration_txt}       same as ${duration} for humans\n    # ${non_clear_duration} the total duration in seconds this is/was non-clear\n    # ${non_clear_duration_txt} same as ${non_clear_duration} for humans\n    # ${units}              the units of the value\n    # ${info}               a short description of the alarm\n    # ${value_string}       friendly value (with units)\n    # ${old_value_string}   friendly old value (with units)\n    # ${image}              the URL of an image to represent the status of the alarm\n    # ${color}              a color in #AABBCC format for the alarm\n    # ${goto_url}           the URL the user can click to see the netdata dashboard\n    # ${calc_expression}    the expression evaluated to provide the value for the alarm\n    # ${calc_param_values}  the value of the variables in the evaluated expression\n    # ${total_warnings}     the total number of alarms in WARNING state on the host\n    # ${total_critical}     the total number of alarms in CRITICAL state on the host\n\n    # these are more human friendly:\n    # ${alarm}              like \"name = value units\"\n    # ${status_message}     like \"needs attention\", \"recovered\", \"is critical\"\n    # ${severity}           like \"Escalated to CRITICAL\", \"Recovered from WARNING\"\n    # ${raised_for}         like \"(alarm was raised for 10 minutes)\"\n\n    # example human readable SMS\n    local msg=\"${host} ${status_message}: ${alarm} ${raised_for}\"\n\n    # limit it to 160 characters and encode it for use in a URL\n    urlencode \"${msg:0:160}\" &gt;/dev/null; msg=\"${REPLY}\"\n\n    # a space separated list of the recipients to send alarms to\n    to=\"${1}\"\n\n    # Sample send SMS to an imaginary SMS gateway accessible via HTTPS\n    #for phone in ${to}; do\n    #  httpcode=$(docurl -X POST \\\n        #                           --data-urlencode \"From=XXX\" \\\n        #                           --data-urlencode \"To=${phone}\" \\\n        #                           --data-urlencode \"Body=${msg}\" \\\n        #                           -u \"${accountsid}:${accounttoken}\" \\\n    #   https://domain.website.com/)\n    #\n    #   if [ \"${httpcode}\" = \"200\" ]; then\n    #     info \"sent custom notification ${msg} to ${phone}\"\n    #     sent=$((sent + 1))\n    #   else\n    #     error \"failed to send custom notification ${msg} to ${phone} with HTTP error code ${httpcode}.\"\n    #   fi\n    #done\n\n    info \"not sending custom notification to ${to}, for ${status} of '${host}.${chart}.${name}' - custom_sender() is not configured.\"\n}\n\n\n###############################################################################\n# RECIPIENTS PER ROLE\n\n# -----------------------------------------------------------------------------\n# generic system alarms\n# CPU, disks, network interfaces, entropy, etc\n\n# role_recipients_email[sysadmin]=\"${DEFAULT_RECIPIENT_EMAIL}\"\n\n# role_recipients_pushover[sysadmin]=\"${DEFAULT_RECIPIENT_PUSHOVER}\"\n\n# role_recipients_pushbullet[sysadmin]=\"${DEFAULT_RECIPIENT_PUSHBULLET}\"\n\n# role_recipients_telegram[sysadmin]=\"${DEFAULT_RECIPIENT_TELEGRAM}\"\n\n# role_recipients_slack[sysadmin]=\"${DEFAULT_RECIPIENT_SLACK}\"\n\n# role_recipients_alerta[sysadmin]=\"${DEFAULT_RECIPIENT_ALERTA}\"\n\n# role_recipients_flock[sysadmin]=\"${DEFAULT_RECIPIENT_FLOCK}\"\n\n# role_recipients_discord[sysadmin]=\"${DEFAULT_RECIPIENT_DISCORD}\"\n\n# role_recipients_hipchat[sysadmin]=\"${DEFAULT_RECIPIENT_HIPCHAT}\"\n\n# role_recipients_twilio[sysadmin]=\"${DEFAULT_RECIPIENT_TWILIO}\"\n\n# role_recipients_messagebird[sysadmin]=\"${DEFAULT_RECIPIENT_MESSAGEBIRD}\"\n\n# role_recipients_kavenegar[sysadmin]=\"${DEFAULT_RECIPIENT_KAVENEGAR}\"\n\n# role_recipients_pd[sysadmin]=\"${DEFAULT_RECIPIENT_PD}\"\n\n# role_recipients_fleep[sysadmin]=\"${DEFAULT_RECIPIENT_FLEEP}\"\n\n# role_recipients_irc[sysadmin]=\"${DEFAULT_RECIPIENT_IRC}\"\n\n# role_recipients_syslog[sysadmin]=\"${DEFAULT_RECIPIENT_SYSLOG}\"\n\n# role_recipients_prowl[sysadmin]=\"${DEFAULT_RECIPIENT_PROWL}\"\n\n# role_recipients_awssns[sysadmin]=\"${DEFAULT_RECIPIENT_AWSSNS}\"\n\n# role_recipients_custom[sysadmin]=\"${DEFAULT_RECIPIENT_CUSTOM}\"\n\n# role_recipients_msteams[sysadmin]=\"${DEFAULT_RECIPIENT_MSTEAMS}\"\n\n# role_recipients_rocketchat[sysadmin]=\"${DEFAULT_RECIPIENT_ROCKETCHAT}\"\n\n# role_recipients_dynatrace[sysadmin]=\"${DEFAULT_RECIPIENT_DYNATRACE}\"\n\n# role_recipients_opsgenie[sysadmin]=\"${DEFAULT_RECIPIENT_OPSGENIE}\"\n\n# role_recipients_matrix[sysadmin]=\"${DEFAULT_RECIPIENT_MATRIX}\"\n\n# role_recipients_gotify[sysadmin]=\"${DEFAULT_RECIPIENT_GOTIFY}\"\n\n# role_recipients_ntfy[sysadmin]=\"${DEFAULT_RECIPIENT_NTFY}\"\n\n# -----------------------------------------------------------------------------\n# DNS related alarms\n\n# role_recipients_email[domainadmin]=\"${DEFAULT_RECIPIENT_EMAIL}\"\n\n# role_recipients_pushover[domainadmin]=\"${DEFAULT_RECIPIENT_PUSHOVER}\"\n\n# role_recipients_pushbullet[domainadmin]=\"${DEFAULT_RECIPIENT_PUSHBULLET}\"\n\n# role_recipients_telegram[domainadmin]=\"${DEFAULT_RECIPIENT_TELEGRAM}\"\n\n# role_recipients_slack[domainadmin]=\"${DEFAULT_RECIPIENT_SLACK}\"\n\n# role_recipients_alerta[domainadmin]=\"${DEFAULT_RECIPIENT_ALERTA}\"\n\n# role_recipients_flock[domainadmin]=\"${DEFAULT_RECIPIENT_FLOCK}\"\n\n# role_recipients_discord[domainadmin]=\"${DEFAULT_RECIPIENT_DISCORD}\"\n\n# role_recipients_hipchat[domainadmin]=\"${DEFAULT_RECIPIENT_HIPCHAT}\"\n\n# role_recipients_twilio[domainadmin]=\"${DEFAULT_RECIPIENT_TWILIO}\"\n\n# role_recipients_messagebird[domainadmin]=\"${DEFAULT_RECIPIENT_MESSAGEBIRD}\"\n\n# role_recipients_kavenegar[domainadmin]=\"${DEFAULT_RECIPIENT_KAVENEGAR}\"\n\n# role_recipients_pd[domainadmin]=\"${DEFAULT_RECIPIENT_PD}\"\n\n# role_recipients_fleep[domainadmin]=\"${DEFAULT_RECIPIENT_FLEEP}\"\n\n# role_recipients_irc[domainadmin]=\"${DEFAULT_RECIPIENT_IRC}\"\n\n# role_recipients_syslog[domainadmin]=\"${DEFAULT_RECIPIENT_SYSLOG}\"\n\n# role_recipients_prowl[domainadmin]=\"${DEFAULT_RECIPIENT_PROWL}\"\n\n# role_recipients_awssns[domainadmin]=\"${DEFAULT_RECIPIENT_AWSSNS}\"\n\n# role_recipients_custom[domainadmin]=\"${DEFAULT_RECIPIENT_CUSTOM}\"\n\n# role_recipients_msteams[domainadmin]=\"${DEFAULT_RECIPIENT_MSTEAMS}\"\n\n# role_recipients_rocketchat[domainadmin]=\"${DEFAULT_RECIPIENT_ROCKETCHAT}\"\n\n# role_recipients_sms[domainadmin]=\"${DEFAULT_RECIPIENT_SMS}\"\n\n# role_recipients_dynatrace[domainadmin]=\"${DEFAULT_RECIPIENT_DYNATRACE}\"\n\n# role_recipients_opsgenie[domainadmin]=\"${DEFAULT_RECIPIENT_OPSGENIE}\"\n\n# role_recipients_matrix[domainadmin]=\"${DEFAULT_RECIPIENT_MATRIX}\"\n\n# role_recipients_gotify[domainadmin]=\"${DEFAULT_RECIPIENT_GOTIFY}\"\n\n# role_recipients_ntfy[domainadmin]=\"${DEFAULT_RECIPIENT_NTFY}\"\n\n# -----------------------------------------------------------------------------\n# database servers alarms\n# mysql, redis, memcached, postgres, etc\n\n# role_recipients_email[dba]=\"${DEFAULT_RECIPIENT_EMAIL}\"\n\n# role_recipients_pushover[dba]=\"${DEFAULT_RECIPIENT_PUSHOVER}\"\n\n# role_recipients_pushbullet[dba]=\"${DEFAULT_RECIPIENT_PUSHBULLET}\"\n\n# role_recipients_telegram[dba]=\"${DEFAULT_RECIPIENT_TELEGRAM}\"\n\n# role_recipients_slack[dba]=\"${DEFAULT_RECIPIENT_SLACK}\"\n\n# role_recipients_alerta[dba]=\"${DEFAULT_RECIPIENT_ALERTA}\"\n\n# role_recipients_flock[dba]=\"${DEFAULT_RECIPIENT_FLOCK}\"\n\n# role_recipients_discord[dba]=\"${DEFAULT_RECIPIENT_DISCORD}\"\n\n# role_recipients_hipchat[dba]=\"${DEFAULT_RECIPIENT_HIPCHAT}\"\n\n# role_recipients_twilio[dba]=\"${DEFAULT_RECIPIENT_TWILIO}\"\n\n# role_recipients_messagebird[dba]=\"${DEFAULT_RECIPIENT_MESSAGEBIRD}\"\n\n# role_recipients_kavenegar[dba]=\"${DEFAULT_RECIPIENT_KAVENEGAR}\"\n\n# role_recipients_pd[dba]=\"${DEFAULT_RECIPIENT_PD}\"\n\n# role_recipients_fleep[dba]=\"${DEFAULT_RECIPIENT_FLEEP}\"\n\n# role_recipients_irc[dba]=\"${DEFAULT_RECIPIENT_IRC}\"\n\n# role_recipients_syslog[dba]=\"${DEFAULT_RECIPIENT_SYSLOG}\"\n\n# role_recipients_prowl[dba]=\"${DEFAULT_RECIPIENT_PROWL}\"\n\n# role_recipients_awssns[dba]=\"${DEFAULT_RECIPIENT_AWSSNS}\"\n\n# role_recipients_custom[dba]=\"${DEFAULT_RECIPIENT_CUSTOM}\"\n\n# role_recipients_msteams[dba]=\"${DEFAULT_RECIPIENT_MSTEAMS}\"\n\n# role_recipients_rocketchat[dba]=\"${DEFAULT_RECIPIENT_ROCKETCHAT}\"\n\n# role_recipients_sms[dba]=\"${DEFAULT_RECIPIENT_SMS}\"\n\n# role_recipients_dynatrace[dba]=\"${DEFAULT_RECIPIENT_DYNATRACE}\"\n\n# role_recipients_opsgenie[dba]=\"${DEFAULT_RECIPIENT_OPSGENIE}\"\n\n# role_recipients_matrix[dba]=\"${DEFAULT_RECIPIENT_MATRIX}\"\n\n# role_recipients_gotify[dba]=\"${DEFAULT_RECIPIENT_GOTIFY}\"\n\n# role_recipients_ntfy[dba]=\"${DEFAULT_RECIPIENT_NTFY}\"\n\n# -----------------------------------------------------------------------------\n# web servers alarms\n# apache, nginx, lighttpd, etc\n\n# role_recipients_email[webmaster]=\"${DEFAULT_RECIPIENT_EMAIL}\"\n\n# role_recipients_pushover[webmaster]=\"${DEFAULT_RECIPIENT_PUSHOVER}\"\n\n# role_recipients_pushbullet[webmaster]=\"${DEFAULT_RECIPIENT_PUSHBULLET}\"\n\n# role_recipients_telegram[webmaster]=\"${DEFAULT_RECIPIENT_TELEGRAM}\"\n\n# role_recipients_slack[webmaster]=\"${DEFAULT_RECIPIENT_SLACK}\"\n\n# role_recipients_alerta[webmaster]=\"${DEFAULT_RECIPIENT_ALERTA}\"\n\n# role_recipients_flock[webmaster]=\"${DEFAULT_RECIPIENT_FLOCK}\"\n\n# role_recipients_discord[webmaster]=\"${DEFAULT_RECIPIENT_DISCORD}\"\n\n# role_recipients_hipchat[webmaster]=\"${DEFAULT_RECIPIENT_HIPCHAT}\"\n\n# role_recipients_twilio[webmaster]=\"${DEFAULT_RECIPIENT_TWILIO}\"\n\n# role_recipients_messagebird[webmaster]=\"${DEFAULT_RECIPIENT_MESSAGEBIRD}\"\n\n# role_recipients_kavenegar[webmaster]=\"${DEFAULT_RECIPIENT_KAVENEGAR}\"\n\n# role_recipients_pd[webmaster]=\"${DEFAULT_RECIPIENT_PD}\"\n\n# role_recipients_fleep[webmaster]=\"${DEFAULT_RECIPIENT_FLEEP}\"\n\n# role_recipients_irc[webmaster]=\"${DEFAULT_RECIPIENT_IRC}\"\n\n# role_recipients_syslog[webmaster]=\"${DEFAULT_RECIPIENT_SYSLOG}\"\n\n# role_recipients_prowl[webmaster]=\"${DEFAULT_RECIPIENT_PROWL}\"\n\n# role_recipients_awssns[webmaster]=\"${DEFAULT_RECIPIENT_AWSSNS}\"\n\n# role_recipients_custom[webmaster]=\"${DEFAULT_RECIPIENT_CUSTOM}\"\n\n# role_recipients_msteams[webmaster]=\"${DEFAULT_RECIPIENT_MSTEAMS}\"\n\n# role_recipients_rocketchat[webmaster]=\"${DEFAULT_RECIPIENT_ROCKETCHAT}\"\n\n# role_recipients_sms[webmaster]=\"${DEFAULT_RECIPIENT_SMS}\"\n\n# role_recipients_dynatrace[webmaster]=\"${DEFAULT_RECIPIENT_DYNATRACE}\"\n\n# role_recipients_opsgenie[webmaster]=\"${DEFAULT_RECIPIENT_OPSGENIE}\"\n\n# role_recipients_matrix[webmaster]=\"${DEFAULT_RECIPIENT_MATRIX}\"\n\n# role_recipients_gotify[webmaster]=\"${DEFAULT_RECIPIENT_GOTIFY}\"\n\n# role_recipients_ntfy[webmaster]=\"${DEFAULT_RECIPIENT_NTFY}\"\n\n# -----------------------------------------------------------------------------\n# proxy servers alarms\n# squid, etc\n\n# role_recipients_email[proxyadmin]=\"${DEFAULT_RECIPIENT_EMAIL}\"\n\n# role_recipients_pushover[proxyadmin]=\"${DEFAULT_RECIPIENT_PUSHOVER}\"\n\n# role_recipients_pushbullet[proxyadmin]=\"${DEFAULT_RECIPIENT_PUSHBULLET}\"\n\n# role_recipients_telegram[proxyadmin]=\"${DEFAULT_RECIPIENT_TELEGRAM}\"\n\n# role_recipients_slack[proxyadmin]=\"${DEFAULT_RECIPIENT_SLACK}\"\n\n# role_recipients_alerta[proxyadmin]=\"${DEFAULT_RECIPIENT_ALERTA}\"\n\n# role_recipients_flock[proxyadmin]=\"${DEFAULT_RECIPIENT_FLOCK}\"\n\n# role_recipients_discord[proxyadmin]=\"${DEFAULT_RECIPIENT_DISCORD}\"\n\n# role_recipients_hipchat[proxyadmin]=\"${DEFAULT_RECIPIENT_HIPCHAT}\"\n\n# role_recipients_twilio[proxyadmin]=\"${DEFAULT_RECIPIENT_TWILIO}\"\n\n# role_recipients_messagebird[proxyadmin]=\"${DEFAULT_RECIPIENT_MESSAGEBIRD}\"\n\n# role_recipients_kavenegar[proxyadmin]=\"${DEFAULT_RECIPIENT_KAVENEGAR}\"\n\n# role_recipients_pd[proxyadmin]=\"${DEFAULT_RECIPIENT_PD}\"\n\n# role_recipients_fleep[proxyadmin]=\"${DEFAULT_RECIPIENT_FLEEP}\"\n\n# role_recipients_irc[proxyadmin]=\"${DEFAULT_RECIPIENT_IRC}\"\n\n# role_recipients_syslog[proxyadmin]=\"${DEFAULT_RECIPIENT_SYSLOG}\"\n\n# role_recipients_prowl[proxyadmin]=\"${DEFAULT_RECIPIENT_PROWL}\"\n\n# role_recipients_awssns[proxyadmin]=\"${DEFAULT_RECIPIENT_AWSSNS}\"\n\n# role_recipients_custom[proxyadmin]=\"${DEFAULT_RECIPIENT_CUSTOM}\"\n\n# role_recipients_msteams[proxyadmin]=\"${DEFAULT_RECIPIENT_MSTEAMS}\"\n\n# role_recipients_rocketchat[proxyadmin]=\"${DEFAULT_RECIPIENT_ROCKETCHAT}\"\n\n# role_recipients_sms[proxyadmin]=\"${DEFAULT_RECIPIENT_SMS}\"\n\n# role_recipients_dynatrace[proxyadmin]=\"${DEFAULT_RECIPIENT_DYNATRACE}\"\n\n# role_recipients_opsgenie[proxyadmin]=\"${DEFAULT_RECIPIENT_OPSGENIE}\"\n\n# role_recipients_matrix[proxyadmin]=\"${DEFAULT_RECIPIENT_MATRIX}\"\n\n# role_recipients_gotify[proxyadmin]=\"${DEFAULT_RECIPIENT_GOTIFY}\"\n\n# role_recipients_ntfy[proxyadmin]=\"${DEFAULT_RECIPIENT_NTFY}\"\n\n# -----------------------------------------------------------------------------\n# peripheral devices\n# UPS, photovoltaics, etc\n\n# role_recipients_email[sitemgr]=\"${DEFAULT_RECIPIENT_EMAIL}\"\n\n# role_recipients_pushover[sitemgr]=\"${DEFAULT_RECIPIENT_PUSHOVER}\"\n\n# role_recipients_pushbullet[sitemgr]=\"${DEFAULT_RECIPIENT_PUSHBULLET}\"\n\n# role_recipients_telegram[sitemgr]=\"${DEFAULT_RECIPIENT_TELEGRAM}\"\n\n# role_recipients_slack[sitemgr]=\"${DEFAULT_RECIPIENT_SLACK}\"\n\n# role_recipients_alerta[sitemgr]=\"${DEFAULT_RECIPIENT_ALERTA}\"\n\n# role_recipients_flock[sitemgr]=\"${DEFAULT_RECIPIENT_FLOCK}\"\n\n# role_recipients_discord[sitemgr]=\"${DEFAULT_RECIPIENT_DISCORD}\"\n\n# role_recipients_hipchat[sitemgr]=\"${DEFAULT_RECIPIENT_HIPCHAT}\"\n\n# role_recipients_twilio[sitemgr]=\"${DEFAULT_RECIPIENT_TWILIO}\"\n\n# role_recipients_messagebird[sitemgr]=\"${DEFAULT_RECIPIENT_MESSAGEBIRD}\"\n\n# role_recipients_kavenegar[sitemgr]=\"${DEFAULT_RECIPIENT_KAVENEGAR}\"\n\n# role_recipients_pd[sitemgr]=\"${DEFAULT_RECIPIENT_PD}\"\n\n# role_recipients_fleep[sitemgr]=\"${DEFAULT_RECIPIENT_FLEEP}\"\n\n# role_recipients_syslog[sitemgr]=\"${DEFAULT_RECIPIENT_SYSLOG}\"\n\n# role_recipients_prowl[sitemgr]=\"${DEFAULT_RECIPIENT_PROWL}\"\n\n# role_recipients_awssns[sitemgr]=\"${DEFAULT_RECIPIENT_AWSSNS}\"\n\n# role_recipients_custom[sitemgr]=\"${DEFAULT_RECIPIENT_CUSTOM}\"\n\n# role_recipients_msteams[sitemgr]=\"${DEFAULT_RECIPIENT_MSTEAMS}\"\n\n# role_recipients_rocketchat[sitemgr]=\"${DEFAULT_RECIPIENT_ROCKETCHAT}\"\n\n# role_recipients_sms[sitemgr]=\"${DEFAULT_RECIPIENT_SMS}\"\n\n# role_recipients_dynatrace[sitemgr]=\"${DEFAULT_RECIPIENT_DYNATRACE}\"\n\n# role_recipients_opsgenie[sitemgr]=\"${DEFAULT_RECIPIENT_OPSGENIE}\"\n\n# role_recipients_matrix[sitemgr]=\"${DEFAULT_RECIPIENT_MATRIX}\"\n\n# role_recipients_gotify[sitemgr]=\"${DEFAULT_RECIPIENT_GOTIFY}\"\n\n# role_recipients_ntfy[sitemgr]=\"${DEFAULT_RECIPIENT_NTFY}\"\n</code></pre>"},{"location":"homelab/networkmap/","title":"Network Map","text":""},{"location":"homelab/proxmox/","title":"Proxmox","text":""},{"location":"homelab/proxmox/#known-issues","title":"Known Issues","text":""},{"location":"homelab/proxmox/#attached-devices-changing-device-number","title":"Attached Devices Changing Device Number","text":"<p>I had added a PCIe 4 port gigabit network adapter to my primary Proxmox host because I didn't want to store it loosely in my tech tote. I removed it as I have plans to add a PCIe bifurcation card to run disks in mirrored mode and improve VM performance. However, Proxmox networking was screwed up because <code>/etc/network/interfaces</code> changed with the device rename of the primary ethernet adapter I was using (the one attached to the motherboard).</p> <p>The fix is running <code>journalctl -b 0 | grep renamed</code> - this will show you the old name of the network adapter and what it was changed to. You just need to edit <code>/etc/network/interfaces</code> and revert the automatic name change if removing devices.</p>"},{"location":"homelab/proxmox/#setup-tasks","title":"Setup Tasks","text":"<p>Most of these are based on YouTuber Techno Tim's video Before I do anything on Proxmox, I do this first... but there are some configurations I do outside of the video as well.</p>"},{"location":"homelab/proxmox/#configure-updates","title":"Configure Updates","text":"<p>Edit <code>/etc/apt/sources.list</code></p> <p>Add line for non-production use <code>deb http://download.proxmox.com/debian buster pve-no-subscription</code></p> <p>Edit enterprise list</p> <p>Comment out line in <code>etc/apt/sources.list.d/pve-enterprise.list</code> if this is not being used in company enterprise environment.</p> <p><code>apt-get update</code></p> <p><code>apt-get upgrade</code></p> <p><code>apt dist-upgrade</code></p> <p>Reboot</p>"},{"location":"homelab/proxmox/#turn-off-no-subscription-notice","title":"Turn off No-Subscription Notice","text":"<p>To remove the popup message \u201cYou do not have a valid subscription for this server\u201d, follow the instructions below or on this GitHub repo. This is also known as the pve-nag-buster.</p> <p>Installation with wget</p> <pre><code>wget https://raw.githubusercontent.com/foundObjects/pve-nag-buster/master/install.sh\n\n# Always read scripts downloaded from the internet before running them with sudo\nsudo bash install.sh\n\n# or ..\nchmod +x install.sh &amp;&amp; sudo ./install.sh\n</code></pre> <p>Installation with git</p> <pre><code>git clone https://github.com/foundObjects/pve-nag-buster.git\n\n# Always read scripts downloaded from the internet before running them with sudo\ncd pve-nag-buster &amp;&amp; sudo ./install.sh\n</code></pre> <p>Uninstall</p> <pre><code>sudo ./install.sh --uninstall\n# remove /etc/apt/sources.list.d/pve-no-subscription.list if desired\n</code></pre>"},{"location":"homelab/proxmox/#storage","title":"Storage","text":""},{"location":"homelab/proxmox/#local-storage","title":"Local Storage","text":"<p>Navigate via the GUI to Server &gt; Disks &gt; <code>/disk/name</code> for whatever option you want to configure with local disks.</p> <p>If a local disk fails, you need to remove it by navigating to the disk type, destroying the disk. Navigate to the Disks menu and <code>Initialize Disk with GPT</code>. Then, you can navigate to the storage type and create the storage type you want.</p> <p>For example, when <code>storageSSD</code> failed, I had to delete the disk in the <code>LVM-Thin</code> menu, Re-Initialize the Disk with GPT, then navigate to LVM-Thin and <code>Create: Thinpool</code> on the unused disk - <code>/dev/sda</code>.</p>"},{"location":"homelab/proxmox/#smart","title":"SMART","text":"<p>SMART is usually enabled by default but if it is not, <code>smartctl -a /dev/sdX</code> Turn on SMART if not enabled</p>"},{"location":"homelab/proxmox/#networked-storage","title":"Networked Storage","text":"<p>Datacenter -&gt; Storage -&gt; Add -&gt;  {{ storage type }}</p> <p>Configure SMB with the following settings:</p> <pre><code>ID: spicyNAS-proxmox\nServer: 10.100.10.15 (or IP of TrueNAS instance)\nUsername: proxmox\nPassword: bitwarden {{ TrueNAS Samba Habanero SMB }}\nShare: proxmox\nNodes: All\nEnable: Checked\nContent: (Select all)\n</code></pre>"},{"location":"homelab/proxmox/#schedule-backups","title":"Schedule Backups","text":"GeneralRetention <p>The scheduling supports cron format in the \"schedule\" field. Datacenter -&gt; Backups -&gt; Add</p> <pre><code>Node: (pick node/nodes)\nStorage: nas device\nSchedule: 03:00 (3 AM every morning)\nSelection Mode: all\nSend email to: enter email\nEmail: notify always\nCompression: ZTSD\nMode: Snapshot (this has always worked for me)\nEnable: [x] \n</code></pre> <pre><code>Keep all backups: [ ] unchecked\nKeep Last: 8\n\nOR\n\nKeep Hourly: 0\nKeep Daily: 5\nKeep Weekly: 2\nKeep Monthly: 2\nKeep Yearly: 0\n</code></pre>"},{"location":"homelab/proxmox/#schedule-snapshots","title":"Schedule Snapshots","text":"<p>Don't know where this is yet but it'd be neat to implement scheduled snapshots as well as backups.</p>"},{"location":"homelab/proxmox/#pci-passthrough-iommu","title":"PCI Passthrough / IOMMU","text":"<p>Prerequisites: Motherboard, CPU, and BIOS all need to support. Search the internet and updated docs if/when you need PCI passthrough.</p>"},{"location":"homelab/proxmox/#vlan-aware","title":"VLAN Aware","text":"<p>PVE Node -&gt; Network -&gt; Select Network Adapter (bridge) -&gt; Enable VLAN Aware</p> <p>You will probably want to set VLAN on the network adapter next.</p>"},{"location":"homelab/proxmox/#windows-virtio-drivers","title":"Windows VirtIO Drivers","text":"<p>Yeah I'll get to this some day. For now the smaller resolution box doesn't bother me enough yet.</p>"},{"location":"homelab/proxmox/#cloud-init-ubuntu-template","title":"Cloud Init Ubuntu Template","text":"<p>In order to save time, we'll create a template for our Ubuntu servers.</p> <p>First, create a VM with the following specific options:</p> <ul> <li>OS: do not use any media</li> <li>System: Qemu Agent checked</li> <li>Disks: Delete default disk</li> <li>CPU: can be low, change later</li> <li>Memory: can be low, chamge later Other options can be set as desired.</li> </ul> <p>Next, enter the Proxmox shell.</p> <pre><code># Download ubuntu cloud image\nwget https://cloud-images.ubuntu.com/&lt;path to specific cloud image&gt;\n\n# Set up console for viewing VM output\nqm set 900 --serial0 socket --vga serial0\n\n# Change disk type to .qcow2 in order to increase size\nmv ubuntu-22.04-minimal-cloudimg-amd64.img ubuntu-22.04-minimal-cloudimg-amd64.qcow2\n\n# Increase size\nqemu-img resize ubuntu-22.04-minimal-cloudimg-amd64.qcow2 32G\n\n# Import disk into VM\n# Note: 900 is VM ID, local-lvm is storage for VM images\nqm importdisk 900 ubuntu-22.04-minimal-cloudimg-amd64.qcow2 local-lvm\n</code></pre> <p>Once done in the shell, go to VM options &gt; Boot order. Enable new disk, and move to 2<sup>nd</sup> priority.</p> <p>If needed, install the <code>qemu-guest-agent</code> package on the machine.</p> <p>Be sure when deploying from clones to change the IP address in Cloud Init options to static.</p>"},{"location":"homelab/proxmox/#common-tasks","title":"Common Tasks","text":""},{"location":"homelab/proxmox/#growing-disks-vms","title":"Growing Disks (VMs)","text":"<p>Note</p> <p>This documentation is based on the \"Example with EFI\" docs</p> <p>Note: ubuntu says virtual machine disks are <code>vda</code> devices. My ubuntu docker VM had vda1 and vda2, with vda2 being the data partition.</p> <pre><code># list system messages about disk size changing\ndmesg | grep vda\n\n# list disks in fdisk\nfdisk -l /dev/vda | grep ^/dev\n\n# enter the partitioning tool\nparted /dev/vda\n\n# print partitions in parted\n(parted) print\n\n# resize specific partition with percentage of free space\n# NOTE: be sure to check the partition number on the host. On my docker host,\n# it just so happens to be partition 2.\n(parted) resizepart 2 100%\n\n# view new partition sizes\n(parted) print\n\n# resize file system to fill disk space\nresize2fs /dev/vda2\n</code></pre>"},{"location":"homelab/proxmox/#email-alerts","title":"Email Alerts","text":"<p>This section is based on YouTuber Techno Tim's guide Set up alerts in Proxmox before it's too late!</p>"},{"location":"homelab/proxmox/#tldr-alert-config","title":"TLDR: Alert Config","text":"Required Config <p>You'll need a Google app password for the Google account you want to use to send emails. Follow Google's guide on how to make app passwords.</p> <pre><code># commands to be run in proxmox shell\napt update\napt install -y libsasl2-modules mailutils\n\n# configure postfix\necho \"smtp.gmail.com your-email@gmail.com:YourAppPassword\" &gt; /etc/postfix/sasl_passwd\n# update permissions\nchmod 600 /etc/postfix/sasl_passwd\n# hash the file\npostmap hash:/etc/postfix/sasl_passwd\n# ensure hashed db file was created \ncat /etc/postfix/sasl_passwd.db\n</code></pre> <p>Edit postfix config <code>vim /etc/postfix/main.cf</code></p> <pre><code># /etc/postfix/main.cf\n# google mail configuration\nrelayhost = smtp.gmail.com:587\nsmtp_use_tls = yes\nsmtp_sasl_auth_enable = yes\nsmtp_sasl_security_options =\nsmtp_sasl_password_maps = hash:/etc/postfix/sasl_passwd\nsmtp_tls_CAfile = /etc/ssl/certs/Entrust_Root_Certification_Authority.pem\nsmtp_tls_session_cache_database = btree:/var/lib/postfix/smtp_tls_session_cache\nsmtp_tls_session_cache_timeout = 3600s\n</code></pre> <pre><code># reload post fix\nsystemctl postfix reload\n\necho \"This is a test message sent from postfix on my Proxmox Server\" | mail -s \"Test Email from Proxmox\" your-email@gmail.com\n</code></pre> Optional Config <pre><code>apt update\napt install postfix-pcre\n\nvim /etc/postfix/smtp_header_checks\n</code></pre> <p>Add the following text:</p> <pre><code># /etc/postfix/smtp_header_checks\n/^From:.*/ REPLACE From: pve1-alert &lt;pve1-alert@something.com&gt;\n</code></pre> <pre><code># hash the file\npostmap hash:/etc/postfix/smtp_header_checks\n# check the contents of the file\ncat /etc/postfix/smtp_header_checks.db\n</code></pre> <p>Edit postfix config again <code>vim /etc/postfix/main.cf</code>:</p> <pre><code>smtp_header_checks = pcre:/etc/postfix/smtp_header_checks\n</code></pre> <p>Reload postfix <code>systemctl postfix reload</code></p>"},{"location":"homelab/proxmox/#alert-config-explained","title":"Alert Config Explained","text":"<p>Setting up alerts depends on <code>mailutils</code>, <code>libsasl2-modules</code>, and <code>postfix-pcre</code>. According to their website, <code>mailutils</code> is \"Mailutils is a swiss army knife of electronic mail handling. It offers a rich set of utilities and daemons for processing e-mail.\" <code>libsasl2-modules</code> provides authentication with Google's servers using the app password, and <code>postfix-pcre</code> allows Perl Compatible Regular Expression for modifying the headers of the emails that are sent. Basically, you're setting up the email server config to reach out to Google's mail servers and authenticate using the app password.</p>"},{"location":"homelab/router/","title":"Router","text":""},{"location":"homelab/router/#overview","title":"Overview","text":"<p>This page is currently not very useful as I've switched to a Unifi router.</p>"},{"location":"homelab/router/#asus-router-config","title":"Asus Router Config","text":""},{"location":"homelab/router/#time-zone","title":"Time Zone","text":"<p>DST Starts <code>3 month 2nd Sun 2 hours</code> DST Ends <code>11 month 1st Sun 2 hours</code></p>"},{"location":"homelab/router/#ntp","title":"NTP","text":"<p>NTP server: time.cloudflare.com</p> <p>Resolve Hostname: 141.251.32.4 Resolved IP Address: 141.251.32.4 Ping Target: 141.251.32.4</p>"},{"location":"homelab/syncthing/","title":"Syncthing","text":""},{"location":"homelab/syncthing/#truenas-setup","title":"TrueNAS Setup","text":"<p>User and Group Configuration User ID 568 Group ID 568</p> <p>Syncthing Config Storage:  - Host Path <code>/mnt/Habanero/Syncthing</code></p> <p>Additional Storage:  - Mount Path <code>/mount/Habanero</code> - Host Path <code>/mnt/Habanero</code></p> <p>Resource Limits - CPU <code>1000m</code> (1000 millicores = 1 core) - Memory <code>4Gi</code></p> <p>Modify dataset ACL to allow user modify access recursively</p>"},{"location":"homelab/syncthing/#syncthing-setup","title":"Syncthing Setup","text":"<p>Actions &gt; Settings &gt; GUI &gt; Username and Password &gt; Enable HTTPS</p>"},{"location":"homelab/tools/","title":"Tools","text":"<p>I sometimes forget about these tools because I don't use them often enough but I want to remember them.</p>"},{"location":"homelab/tools/#downloadable-tools","title":"Downloadable Tools","text":"<ul> <li>https://www.grc.com/dns/benchmark.htm</li> <li>Unifi Controller Script or google link in case weburl is changed (should be first link)</li> <li>WinFi</li> <li>xampp</li> <li>Parrot.live</li> </ul>"},{"location":"homelab/tools/#web-tools","title":"Web Tools","text":"<ul> <li>HTTP: smokeping</li> <li>Traceroute Mapper - Google Maps</li> </ul>"},{"location":"homelab/tools/#misc","title":"Misc","text":"<ul> <li>https://fogproject.org/</li> <li>https://www.privacytools.io/</li> <li>https://tosdr.org/</li> </ul>"},{"location":"homelab/truenas/","title":"TrueNAS","text":""},{"location":"homelab/truenas/#netdata-configuration","title":"Netdata Configuration","text":"<pre><code>#------------------------------------------------------------------------------\n# discord (discord.com) global notification options\n\n# multiple recipients can be given like this:\n#                  \"CHANNEL1 CHANNEL2 ...\"\n\n# enable/disable sending discord notifications\nSEND_DISCORD=\"YES\"\n\n# Create a webhook by following the official documentation -\n# https://support.discord.com/hc/en-us/articles/228383668-Intro-to-Webhooks\nDISCORD_WEBHOOK_URL=\"&lt;&lt;paste in Discord webhook&gt;&gt;\"\n\n# if a role's recipients are not configured, a notification will be send to\n# this discord channel (empty = do not send a notification for unconfigured\n# roles):     \nDEFAULT_RECIPIENT_DISCORD=\"netdata\"\n</code></pre>"},{"location":"homelab/xen%20orchestra/","title":"XCP-NG","text":"<p>Also known as Xen Orchestra Appliance. Think of XO/XOA as the Vcenter for XCP-NG.</p>"},{"location":"homelab/xen%20orchestra/#overview","title":"Overview","text":"<p>Information regarding Xen Orchestra Appliance for the Vates XCP-NG hypervisor.</p>"},{"location":"homelab/xen%20orchestra/#xen-orchestra","title":"Xen Orchestra","text":"<p>This section covers basics of Xen Orchestra, the web management interface for XCP-NG. </p>"},{"location":"homelab/xen%20orchestra/#installation","title":"Installation","text":"<p>This is a process to follow to install Xen Orchestra Community Edition (xo-ce) on an existing XCP-NG installation. You need to be on a local or SSH shell session.</p> <pre><code># install git\nyum install git vim\n\n# clone Xen Orchestar Installer Updater Tool\ngit clone https://github.com/ronivay/XenOrchestraInstallerUpdater.git\n\ncd XenOrchestraInstallerUpdater/\n\ncp sample.xo-install.cfg xo-install.cfg\n\n# read through configuration file in case you want to make changes\nvim xo-install.cfg\n\n# this throws an error - it would like you to import a VM for Xen Orchestra instead of installing one\n./xo-install.sh\n\n# by default, imports a debian VM for xo-ce with 2 vCPUs, 4 GiB RAM, 10 GiB disk\n./xo-vm-import.sh\n\n# since we don't need 2 vCPUs and 4 GiB of memory, we'll change the resource usage to be smaller\nxe vm-shutdown vm=xo-ce\nxe vm-param-set VCPUs-at-startup=1 uuid=`vm uuid`\nxe vm-param-set VCPUs-max='1' uuid=`vm uuid`\nxe vm-memory-limits-set vm=xo-ce static-min=512MiB dynamic-min=512MiB dynamic-max=512MiB static-max=512MiB\nxe vm-start vm=xo-ce\n</code></pre>"},{"location":"homelab/xen%20orchestra/#updates","title":"Updates","text":"<p>In order to install, we follow a similar process by SSH'ing into the XCP-ng server.</p> <pre><code>cd XenOrchestraInstallerUpdater/\n\ngit pull\n\n./xo-install.sh --Update\n</code></pre>"},{"location":"homelab/minecraft/forge-mod-loader/","title":"Linux MC with Forge Mods","text":"<ul> <li>Linux MC with Forge Mods</li> <li>Modded Minecraft<ul> <li>Server Install</li> </ul> </li> </ul>"},{"location":"homelab/minecraft/forge-mod-loader/#modded-minecraft","title":"Modded Minecraft","text":""},{"location":"homelab/minecraft/forge-mod-loader/#server-install","title":"Server Install","text":"<p>Followed these docs: https://www.linuxnorth.org/minecraft/modded_linux.html</p> <pre><code>adam@minecraft:/opt$ mkdir /opt/minecraft\nadam@minecraft:/opt$ sudo chmod 777 minecraft/\n\nsudo apt install default-jre\nupdate-alternatives --config java\nsudo apt install screen\nwget https://maven.minecraftforge.net/net/minecraftforge/forge/1.20.1-47.4.0/forge-1.20.1-47.4.0-installer.jar\njava -jar forge-1.20.1-47.4.0-installer.jar --installServer \nrm forge-1.20.1-47.4.0-installer.jar\nsudo apt install tree\n\n# show mod folder on local PC\nadam@adam-wee-pc:~/Documents/curseforge/minecraft/Instances/Solo April212025/mods$ pwd\n/home/adam/Documents/curseforge/minecraft/Instances/Solo April212025/mods\n\n# sftp mods from local gaming PC to server\n</code></pre> <p>root@minecraft:/opt/minecraft# sudo apt remove openjdk-21-jre-headless:amd64</p>"},{"location":"homelab/minecraft/minecraft/","title":"Minecraft Server on Linux VM","text":"<ul> <li>Minecraft Server on Linux VM</li> <li>Modded Minecraft<ul> <li>Find world version</li> </ul> </li> <li>Iris Shader Modloader</li> <li>Tmux</li> </ul>"},{"location":"homelab/minecraft/minecraft/#modded-minecraft","title":"Modded Minecraft","text":""},{"location":"homelab/minecraft/minecraft/#find-world-version","title":"Find world version","text":"<pre><code>$ cd ~/.minecraft/saves/\"New World\"\n$ grep DataVersion advancements/*.json\n  \"DataVersion\": 1976\nadam@adam-wee-pc:~/Downloads/The Empty-20250501T141004Z-001/the-empty$ jq .DataVersion advancements/*.json\n\n#match with this website:\n# https://minecraft.wiki/w/Data_version\n</code></pre>"},{"location":"homelab/minecraft/minecraft/#iris-shader-modloader","title":"Iris Shader Modloader","text":"<p>Download Iris Installer java .jar file</p> <p>https://www.irisshaders.dev/download</p> <p>Open containing folder in Terminal</p> <pre><code>java -jar Iris-Installer-3.2.1.jar\n</code></pre> <p>Location for minecraft install is /home/adam/.minecraft</p>"},{"location":"homelab/minecraft/minecraft/#tmux","title":"Tmux","text":"<pre><code># detach\nCTRL+B &gt; D\n\n# re-attach\ntmux ls\ntmux attach -t 0\n\n# scroll\nCtrl + b, then [\n</code></pre>"},{"location":"homelab/minecraft/paper/","title":"Linux MC Running on Paper","text":"<ul> <li>Linux MC Running on Paper</li> <li>To Do</li> <li>Paper<ul> <li>Setup</li> </ul> </li> <li>Updating</li> <li>Dynmap</li> <li>Commands</li> <li>Favorite Plugins</li> </ul>"},{"location":"homelab/minecraft/paper/#to-do","title":"To Do","text":""},{"location":"homelab/minecraft/paper/#paper","title":"Paper","text":"<p>\"Paper is a fork of Spigot, meaning it builds upon Spigot's code and adds its own features and optimizations. Essentially, Paper is an enhanced version of Spigot, designed for better performance and stability, especially on servers with a higher player count. Spigot, on the other hand, is the standard, more established Minecraft server software.\" ~ Google AI overview</p>"},{"location":"homelab/minecraft/paper/#setup","title":"Setup","text":"<pre><code>sudo apt install openjdk-21-jdk-headless\n</code></pre> <p>https://papermc.io/downloads/paper</p> <pre><code>root@minecraft:/opt/minecraft/1.21.5-spigot-mason-adam/plugins/DeathChest# vim /opt/minecraft/1.21.5-spigot-mason-adam/plugins/DeathChest/config.yml\n# chest:\n#   expiration: -1\n#   blast-protection: true\n#   thief-protection:\n#     enabled: true\n# player-notification:\n#   message: |-\n#     &amp;7You died. Your items were put into a chest. ${x} ${y} ${z}\n</code></pre>"},{"location":"homelab/minecraft/paper/#updating","title":"Updating","text":"<ol> <li>Stop server</li> <li>Backup Server</li> <li>Update Plugins</li> <li>Create folder called <code>update</code> in plugins folder</li> <li>Download plugins to update and place in <code>update</code> folder</li> <li>Restart server</li> <li>Update Paper</li> <li>Stop server</li> <li>Download new JAR from Paper downloads page</li> <li>Ensure new JAR filename is being called in <code>start.sh</code> file</li> <li>Start server and watch logs</li> </ol>"},{"location":"homelab/minecraft/paper/#dynmap","title":"Dynmap","text":"<p>Make sure the tunnel is running somewhere in the network</p>"},{"location":"homelab/minecraft/paper/#commands","title":"Commands","text":"<pre><code>/chunkgen start 1000\n\n# /dynmap radiusrender &lt;world&gt; &lt;x&gt; &lt;z&gt; &lt;block radius&gt;\n/dynmap radiusrender world 171 -353 2500\n/dynmap cancelrender\n/dynmap fullrender\n\n/kill @e[type=zombie]\n</code></pre>"},{"location":"homelab/minecraft/paper/#favorite-plugins","title":"Favorite Plugins","text":"<p>Search for plugin info and download by searching \"spigot [plugin ID from table]\" or just go to website https://www.spigotmc.org/resources/</p> ID Description 39965 smooth timber 74429 fast chunk pregenerator 60623 sleep most 83581 fast leaf decay 111907 ore detector 101066 death chest 19510 classic combat 12038 vein miner 67436 Tree Assist 1997 ProtocolLib 19286 Backpacks <ul> <li>Allow bedrock on Java</li> <li>Vane</li> <li>DynMap</li> <li>BlueMap</li> <li>Head Drop</li> <li>ViaVersion</li> <li>WorldEdit</li> <li></li> </ul>"},{"location":"homelab/minecraft/spigot/","title":"Linux MC running on Spigot","text":"<ul> <li>Linux MC running on Spigot</li> <li>Spigot</li> </ul>"},{"location":"homelab/minecraft/spigot/#spigot","title":"Spigot","text":"<p>Download build tools and then build spigot java jar</p> <p>sftp plugins to server and put in world/plugins folder</p> <pre><code>root@minecraft:/opt/minecraft# sudo apt install openjdk-21-jdk\nroot@minecraft:/opt/minecraft# java -jar BuildTools.jar\n</code></pre>"},{"location":"parents/dads-desktop/","title":"Dad's Desktop","text":"<p>Dell OptiPlex 3050</p> <ul> <li>Intel Core i5-7500 4 core 4 thread</li> <li>16GB DDR4 2400Mhz Ram</li> <li>256 Gb Silicon Power Sata SSD</li> <li>~about 150 W PSU</li> </ul> Specs <p>lshw</p> <p>lshw-short</p>"},{"location":"parents/dads-phone/","title":"Dad's Phone","text":""},{"location":"parents/dads-phone/#moving-apps","title":"Moving Apps","text":"<p>Settings -&gt; Apps -&gt; Sort by Size -&gt; Click on App -&gt; Storage -&gt; Change -&gt; External Storage</p>"},{"location":"parents/home%20access%20points/","title":"Home Access Points","text":"<p>Status lights for router/access points:</p> <p></p> <p></p> <p>Manual pages:</p> <p>Version 4.6</p> <p>Version 3</p>"},{"location":"parents/moms-laptop/","title":"Mom's Laptop","text":"<p>I set up the laptop under my account and then added mom as a local user. This treats the laptop \"ownership\" as mine, so the BitLocker Key is in my Microsoft account</p>"},{"location":"reference/gimp/","title":"GIMP","text":"<p>Guide to using Gimp (Gnu Image Manipulation Program)</p>"},{"location":"reference/gimp/#overview","title":"Overview","text":"<p>For starters - if you pronounce \"Gif\" with a soft G, you're wrong. Societal trends dictate culture, and modern culture says they are pronounced like gorilla, gang, grill, and glasses. If you pronounce \"Gif\" with a soft G like Jif (the peanut butter), giant, or gym, you are strictly prohibited from using this guide. </p> <p>Jk who's going to stop you.</p>"},{"location":"reference/gimp/#cropping-gifs","title":"Cropping Gifs","text":"<p>The unfortunate thing is that this guide is written for a non-default software program. Depending upon your employer, you may or may not be allowed to install this on your work computer. I have installed GIMP on my home desktop to write this guide.</p> <p>Import your media into GIMP</p> <p></p> <p>Select the crop button</p> <p></p> <p>Drag a square over the image you want to crop. You can fix the dimensions and stretch the crop tool to the edges of the image. Make sure you crop to a square size (height should match width) in order to get the best quality import into slack</p> <p></p> <p>Drag the image to roughly center it over the subject</p> <p></p> <p>Press the keyboard combination SHIFT+C to crop the image</p> <p></p> <p>Now go to export the image</p> <p></p> <p></p> <p>Cancel or Crop</p> <p>A popup may appear: \"The image you are trying to export as a GIF contains layers which extend beyond the actual borders of the image. The GIF file format does not allow this.  You may choose whether to crop all of the layers to the image borders, or cancel this export.\"</p> <p>Select the \"Crop\" option</p> <p></p> <p>Crop Options</p> <p>In the next popup, be sure to check the \"As animation\" box or your Gif will no longer be a Gif</p> <p></p> <p>You should now have a cropped Gif! </p> <p>File too big warning</p> <p>If you receive errors about the file being too big, you may need to compress the image, resize it, or remove frames. I personally like Ezgif for small edits. Here's some results for \"slack gif max size\"</p>"},{"location":"reference/git/","title":"Git","text":"<p>Page dedicated to making git easier to use for myself and hopefully others.</p> <ul> <li><code>#</code> indicates optional argument</li> </ul>"},{"location":"reference/git/#commands","title":"Commands","text":"<p><code>git clone &lt;repo&gt;</code> Clones repo</p> <p><code>git checkout -b &lt;branch name&gt; #&lt;branch to branch from&gt;</code></p> <p><code>git stash</code> Stash current uncommitted changes</p> <p><code>git stash pop</code> Un-stash last stashed uncommitted changes</p> <p><code>git pull</code> Pull remote changes into current branch (if there's been remote updates to branch currently checked out)</p> <p><code>git rebase &lt;base&gt;</code> Rebase from branch (example: <code>git rebase origin masterr</code>)</p> <p><code>git remote -v</code> See remotes</p> <p><code>git remote set-url origin &lt;url&gt;</code> Set remote url for origin</p> <p><code>git config --global push.autoSetupRemote true</code> Set up automatic branch creation on remote when creating a new branch</p>"},{"location":"reference/git/#rebasing","title":"Rebasing","text":"<p>If you want to rebase a branch based on remote master branch, <code>git rebase origin/master</code> is not enough, it will not get new commits directly from origin/master. You need to <code>git fetch</code> before <code>git rebase origin/master</code>.</p> <p>Or you can use another way to rebase a branch.</p> <p>switch to master <code>git checkout master</code> <code>git pull origin master</code> switch back to your own branch <code>git checkout &lt;your branch&gt;</code> <code>git rebase origin/master</code> then, your branch is updated to newest commits.</p> <p>Reference</p>"},{"location":"reference/git/#git-cleanup-alias","title":"Git Cleanup Alias","text":""},{"location":"reference/git/#windows","title":"Windows","text":"<p><code>git fetch prune</code></p> <p><code>git remote prune origin</code></p> <p><code>git branch | Select-String -NotMatch -Pattern \"master|main\" | %{ git branch -D $_.ToString().Trim() }</code></p> <p>This link has aliases for Windows and Linux</p>"},{"location":"reference/linux%20desktop/","title":"Linux Desktop","text":""},{"location":"reference/linux%20desktop/#application-shortcuts","title":"Application Shortcuts","text":"<p>Application shortcuts are stored in <code>/usr/local/share/applications/</code> or <code>/usr/share/applications/</code>. </p> <p>You can create a sortcut by creating a file such as <code>/usr/share/applications/steam.desktop</code> and ensuring it has the following contents:</p> <pre><code>[Desktop Entry]\nType=Application\nTerminal=false\nName=unmount-mount\nIcon=/home/adam/Pictures/steam.png\nExec=/usr/games/steam/steam.sh\n</code></pre>"},{"location":"reference/linux%20desktop/#rotating-desktop-wallpaper-ubuntu","title":"Rotating Desktop Wallpaper (ubuntu)","text":"<p>Shotwell &gt; import photos &gt; select all photos to rotate &gt; File &gt; Set as Desktop Background</p>"},{"location":"reference/linux%20desktop/#microphone-turning-down-automatically","title":"Microphone Turning Down Automatically","text":"<p>https://askubuntu.com/questions/279407/how-to-disable-microphone-from-auto-adjusting-its-input-volume</p>"},{"location":"reference/windows/","title":"Windows","text":""},{"location":"reference/windows/#deployment-image-servicing-and-management-dism","title":"Deployment Image Servicing and Management (DISM)","text":"<p><code>DISM /Online /Cleanup-Image /RestoreHealth</code></p> <p>Reference</p>"},{"location":"reference/windows/#system-file-checker-sfc","title":"System File Checker (SFC)","text":"<p><code>sfc /scannow</code></p> <p>Reference</p>"},{"location":"reference/windows/#chkdsk","title":"Chkdsk","text":"<pre><code>To make CHKDSK fix the problems it finds, type chkdsk /f c: (for your C: drive).\nTo scan for bad sectors as well as errors, type chkdsk /r c:.\n</code></pre>"},{"location":"reference/windows/#windows-terminal-themes","title":"Windows Terminal Themes","text":"<p>https://windowsterminalthemes.dev/</p>"},{"location":"reference/windows/#diskpart","title":"Diskpart","text":"<p>I can't remember what this was for but I believe it was for adding space to a Windows partition when there was a recovery partition in between two larger partitions</p> <pre><code>C:\\WINDOWS\\system32&gt;diskpart\nMicrosoft DiskPart version 10.0.17763.1\nCopyright (C) Microsoft Corporation.\nOn computer: ComputerName\nDISKPART&gt; list disk\n  Disk ###  Status         Size     Free     Dyn  Gpt\n  --------  -------------  -------  -------  ---  ---\n  Disk 0    Online          128 GB      0 B        *\n  Disk 1    Online          100 GB  1024 KB        *\nDISKPART&gt; select disk 0\n  Disk 0 is now the selected disk.\nDISKPART&gt; list partition\n  Partition ###  Type              Size     Offset\n  -------------  ----------------  -------  -------\n  Partition 1    System             500 MB  1024 KB\n  Partition 2    Reserved           128 MB   501 MB\n  Partition 3    Primary            126 GB   629 MB\n  Partition 4    Recovery          1306 MB   126 GB\nDISKPART&gt; select partition 4\n  Partition 4 is now the selected partition.\n\nDISKPART&gt; delete partition override\n  DiskPart successfully deleted the selected partition.\nDISKPART&gt; list partition\n  Partition ###  Type              Size     Offset\n  -------------  ----------------  -------  -------\n  Partition 1    System             500 MB  1024 KB\n  Partition 2    Reserved           128 MB   501 MB\n  Partition 3    Primary            126 GB   629 MB\nDISKPART&gt; Exit\n</code></pre>"},{"location":"school/shell_lug/","title":"Linux Users Group Shell","text":"<p>IT blocks all inbound SSH connections from outside of the 141.219.0.0/16 range so by default you can't ssh into Shell from off-campus.</p> <p>There's a service on port 8443 to allow wrapping ssh traffic in TLS to bypass this block, so if you're connecting from a *nix client you can use the following options to do the TLS-wrapped-SSH:</p> <p>Using package <code>socat</code>: <pre><code>1. Single-Use Command:\nssh -o ProxyCommand=\"socat - OPENSSL:shell.lug.mtu.edu:8443,verify=0\" shell.lug.mtu.edu\n\n2. Add the following to ~/.ssh/config for a Persistent Config:\nHost shell\n    ProxyCommand          socat - OPENSSL:shell.lug.mtu.edu:8443,verify=0\n    ServerAliveInterval   10\n</code></pre> Using package <code>openssl</code>: <pre><code>1. Single-Use Command:\nssh -o ProxyCommand=\"openssl s_client -quiet -ign_eof shell.lug.mtu.edu:8443 2&gt;/dev/null\" shell.lug.mtu.edu\n\n2. Add the following to ~/.ssh/config for a Persistent Config:\nHost shell\n    ProxyCommand          openssl s_client -quiet -ign_eof shell.lug.mtu.edu:8443 2&gt;/dev/null\n    ServerAliveInterval   10\n</code></pre> If you do the persistent config via ~/.ssh/config option, you can just type \"ssh shell\" and it'll apply the setting automatically. You can also add your username and pubkey to the host config for a very quick login. More information about the SSH Host configuration file can be found here</p>"},{"location":"school/sat4411/lab05/readme/","title":"Lab 5 - Terraform and VM Automation","text":"<p>This is the documentation for this lab</p> <p>Right now the files are in a good state to where you can run the plan and apply commands and they will run without errors. You'll have to create a <code>terraform.tfvars</code> file and add in the credentials for the vCenter instance.</p> <pre><code># terraform.tfvars\n# set of VM values of variables\nvsphere_server     = \"172.20.191.56\"\nvsphere_user       = \"username\"\nvsphere_password   = \"password\"\n</code></pre> <p>After running <code>terraform plan</code> and <code>terraform apply</code>, you'll need to manually go into the vCenter instance and delete the TinyCore-tf VM that is created as you can't run the script again without errors after the VM is created.</p>"},{"location":"school/sat4411/lab05/readme/#commands","title":"Commands","text":"<pre><code># initialize provider and terraform working folder\nterraform init\n\n# plan changes (make sure syntax is right)\nterraform plan\n\n# apply changes\nterraform apply\n\n# automatically approve changes\nterraform apply --auto-approve\n\n# remove vms managed by terraform\nterraform destroy\n</code></pre>"},{"location":"school/sat4411/lab05/readme/#issues","title":"Issues","text":"<p>Guest OS has to be \"Other Linux 32 Bit\"</p> <p>Navigate to Storage &gt; Datacenter Name (Group12) &gt; Datastore Name (Group 12 Datastore) and navigate through the datastore files until you find the ISO you uploaded (TinyCore 14). The path should be something like <code>[Group 12 Datastore] contentlib-6cc2a390-34fd-45f5-85ab-861df4d5a085/34d11765-de2b-4c4d-95c3-7a5ccf1f5506/TinyCore-14.0_a2015ad7-54b9-4c7f-8d14-1b17edf57941.iso</code></p>"},{"location":"school/sat4411/lab05/readme/#miscellaneous","title":"Miscellaneous","text":"<p>Adjust count in vm resources to adjust number of VMs created</p>"},{"location":"school/sat4812/lab07/","title":"Lab7","text":"<p>All documentation is written in markdown format</p>"},{"location":"school/sat4812/lab07/#add-niceuser-account-to-mail-server","title":"Add <code>niceuser</code> account to Mail server","text":"<pre><code># you have to authenticate to root before you can add a user\nsudo su\nuseradd niceuser\n</code></pre>"},{"location":"school/sat4812/lab07/#create-testtxt-file-on-backup-server","title":"Create <code>test.txt</code> file on Backup Server","text":"<pre><code># create empty file in `/home/playerone/`\ntouch test.txt /home/playerone/test.txt\n</code></pre>"},{"location":"school/sat4812/lab07/#move-importantstufftxt-file-from-folder1-to-folder2-on-workstation-desk-logged-in-as-the-playerone-user","title":"Move <code>importantstuff.txt</code> file from Folder1 to Folder2 on Workstation-Desk logged in as the playerone user","text":"<ul> <li>open file explorer</li> <li>navigate to FlashDrive (E:)</li> <li>you should see folder1 and folder2</li> <li>open folder1</li> <li>click on <code>importantstuff</code> document</li> <li>cut file</li> <li>navigate to FlashDrive(E:)/folder2</li> <li>paste file <code>importantstuff</code></li> </ul>"},{"location":"school/sat4812/lab08/","title":"Lab8","text":"<p>All documentation is written in markdown format</p>"},{"location":"school/sat4812/lab08/#joomla-accounts-that-do-need-a-password-reset-are-marked-for-one","title":"Joomla Accounts That Do Need a Password Reset Are Marked for One","text":"<ol> <li>Log into Domain Controller</li> <li>Open Server Manager</li> <li>Open Tools &gt; Active Directory Administrative Center</li> <li>Browse Domain Users</li> <li>Jot down users for later <code>/home/playerone/Desktop/users.txt</code> file on Security-Desk computer</li> <li>On Security-Desk launch attack against Joomla server</li> <li><code>nmap -sV 172.16.10.100 --script http-joomla-brute --script-args userdb=/home/playerone/Desktop/users.txt,passdb=/usr/share/wordlists/rockyou.txt</code></li> <li>Try logins in Joomla website login <code>http://172.16.10.100/index.php?option=com_users&amp;view=login</code></li> <li>Login to Joomla administrative panel <code>http://172.16.10.100/administration</code></li> <li>Select users with pwn'd passwords</li> <li>Batch update &gt; Require Password Reset = Yes</li> </ol>"},{"location":"school/sat4812/lab08/#users","title":"Users","text":"<p>These are the users in the <code>users.txt</code> file</p> <pre><code>asteele\nfileshare\nGuest\njsmith\njraffin\njcortes\nkrbtgt\nmanderson\nnkeefe\nplayerone\nrcortes\nsec-desk\nskeefe\nsshd\nsshd_server\ntclark\n</code></pre>"},{"location":"school/sat4812/lab08/#ad-accounts-that-do-need-a-password-reset-are-marked-for-one","title":"AD Accounts That Do Need a Password Reset Are Marked for One","text":"<ol> <li>On Security-Desk, launch attack against Domain Controller with SMB connections</li> <li><code>hydra -L /home/playerone/Desktop/users.txt -P /usr/share/wordlists/rockyou.txt 172.16.30.55 smb</code></li> <li>Mark bad accounts in AD</li> <li>Active Directory Users and Computers &gt; Right Click Properties &gt; Check User must change password at next login</li> </ol>"},{"location":"school/sat4812/lab08/#commands-on-msfconsole","title":"Commands on MSFconsole","text":"<p>Contents of <code>users.txt</code>:</p> <pre><code>asteele\nfileshare\nGuest\njsmith\njraffin\njcortes\nkrbtgt\nmanderson\nnkeefe\nplayerone\nrcortes\nsec-desk\nskeefe\nsshd\nsshd_server\ntclark\n</code></pre> <pre><code>cd Desktop\nvim users.txt\nmsfconsole\n</code></pre> <pre><code># once metasploit has been entered\nmsf&gt; spool /home/playerone/Desktop/msfout.txt\nmsf&gt; use auxiliary/scanner/http/joomla_bruteforce_login\nmsf&gt; set RHOSTS 172.16.10.100\nrun\n</code></pre>"},{"location":"school/sat4812/lab09/","title":"Lab9","text":"<p>All documentation is written in markdown format</p>"},{"location":"school/sat4812/lab09/#firewall-rules-implemented-and-dropped-traffic-being-logged-on-prod-joomla","title":"Firewall Rules Implemented and Dropped Traffic Being Logged on Prod-Joomla","text":"<p>Ran commands on <code>Prod-Joomla</code>:</p> <pre><code>sudo su\niptables -A INPUT -p tcp --dport 22 -j ACCEPT\niptables -A INPUT -p tcp --dport 80 -j ACCEPT\niptables -A INPUT -p tcp --dport 443 -j ACCEPT\niptables -A INPUT -j LOG\n</code></pre>"},{"location":"school/sat4812/lab09/#correct-rules-implemented-on-network-firewall","title":"Correct Rules Implemented on Network Firewall","text":"<p>To configure the pfSense rules, log into the Security-Desk computer and navigate to pfSense(172.16.20.250). Navigate to Firewall &gt; Rules &gt; WAN and create three rules:</p> <ul> <li>Allow IPv4 from any source to destination 172.16.10.100 port 443 \"Allow HTTPS to Joomla\".</li> <li>Allow IPv4 from any source to destination 172.16.10.100 port 80 \"Allow HTTP to Joomla\".</li> <li>Block Any IPv4+6 source to any destination on any protocol.</li> </ul>"},{"location":"school/sat4812/lab09/#firewall-rules-implemented-and-dropped-traffic-being-logged-on-database","title":"Firewall Rules Implemented and Dropped Traffic Being Logged on Database","text":"<p>On the Database server, open Windows Firewall with Advanced Security</p> <p>On the overview page, Click \"Windows Firewall Properties\". For each profile Domain, Private, and Public, Customize the Logging settings and change the path to <code>C:\\Windows\\System32\\LogFiles\\Firewall\\pfirewall.log</code>. Also set \"Log dropped packets\" to <code>yes</code></p> <p>Create an inbound firewall rule called MSP Ports that allows TCP ports 135, 137, 445, 5985. MySQL and SMB already have rules that enable those ports.</p>"},{"location":"school/sat4812/lab09/#firewall-rules-implemented-and-dropped-traffic-being-logged-on-workstation","title":"Firewall Rules Implemented and Dropped Traffic Being Logged on Workstation","text":"<p>On the Workstation-Desk, open Windows Firewall with Advanced Security</p> <p>On the overview page, Click \"Windows Firewall Properties\". For each profile Domain, Private, and Public, Customize the Logging settings and change the path to <code>C:\\Windows\\System32\\LogFiles\\Firewall\\pfirewall.log</code>. Also set \"Log dropped packets\" to <code>yes</code></p> <p>Create an inbound firewall rule called MSP Ports that allows TCP ports 137, 445, 5985.</p>"},{"location":"school/sat4812/lab09/#firewall-rules-implemented-and-dropped-traffic-being-logged-on-domain-controller","title":"Firewall Rules Implemented and Dropped Traffic Being Logged on Domain Controller","text":"<p>On the Domain-Controller, open Windows Firewall with Advanced Security</p> <p>On the overview page, Click \"Windows Firewall Properties\". For each profile Domain, Private, and Public, Customize the Logging settings and change the path to <code>C:\\Windows\\System32\\LogFiles\\Firewall\\pfirewall.log</code>. Also set \"Log dropped packets\" to <code>yes</code></p> <p>Create an inbound firewall rule called MSP Ports that allows TCP ports 88, 135, 389, 445, 636, 3268, 3269, and 49152.</p>"},{"location":"school/sat4812/lab09/#firewall-rules-implemented-and-dropped-traffic-being-logged-on-fileshare","title":"Firewall Rules Implemented and Dropped Traffic Being Logged on Fileshare","text":"<p>Ran commands on <code>Fileshare</code>:</p> <pre><code>sudo su\niptables -A INPUT -p tcp --dport 137 -j ACCEPT\niptables -A INPUT -p tcp --dport 22 -j ACCEPT\niptables -A INPUT -p tcp --dport 445 -j ACCEPT\niptables -A INPUT -j LOG\n</code></pre>"},{"location":"school/sat4812/lab10/","title":"Lab 10","text":"<p>All documentation is written in markdown format</p>"},{"location":"school/sat4812/lab10/#snort-logging-letmecry-exploit-alerts","title":"Snort Logging LetMeCry Exploit Alerts","text":"<ol> <li>Log into pfsense - 172.16.20.250</li> <li>Accept agreement</li> <li>Install Snort<ol> <li>System \u2192 Package Manager \u2192 Available Packages</li> <li>Search for Snort</li> <li>Install Snort</li> <li>Confirm</li> </ol> </li> <li>Add Snort interface<ol> <li>Service \u2192 Snort \u2192 Interfaces</li> <li>Add</li> <li>SUBSCRN</li> <li>Check \"Send Alerts to System Log\"</li> </ol> </li> <li>Service \u2192 Snort \u2192 Edit Interface SUBSCRN<ol> <li>Custom rule</li> </ol> </li> </ol> <pre><code>alert tcp any any -&gt; 172.16.10.100 80 (msg: \"LetMeCry Exploit\"; content: \"GET\"; content:\"%3A%3A%28%29x0001%5E%28%3A%3A%29%28xFFFF%29\"; sid: 12345;)\n</code></pre> <ol> <li>Wait a minute or two for green check</li> </ol>"},{"location":"school/sat4812/lab11/","title":"Lab 11","text":"<p>All documentation is written in markdown format</p>"},{"location":"school/sat4812/lab11/#fail2ban-blocks-suspected-brute-force-traffic","title":"Fail2Ban Blocks Suspected Brute Force Traffic","text":"<p>Run commands on <code>Prod-Joomla</code> as root:</p> <pre><code># authenticate to superuser\nsudo su\n\n# install fail2ban and libapache2-mod-security\ndpkg -i fail2ban_0.9.6-2_all.deb libapache2-mod-security2_2.9.1-2_amd64.deb\n\n# fix broken packages\napt update\napt-get install -f\n\n# start fail2ban\nsystemtl start fail2ban\nsystemctl status fail2ban\n\n# edit fail2ban to create whitelist rule\nvim /etc/fail2ban/jail.d/afulton.conf\n</code></pre> <p>Contents of <code>/etc/fail2ban/jail.d/afulton.conf</code></p> <pre><code>[DEFAULT]\nignoreip = 172.31.2.6\n</code></pre> <p>Run commands on <code>Prod-Joomla</code></p> <pre><code># restart fail2ban\nsystemctl restart fail2ban\n</code></pre>"},{"location":"school/sat4812/lab11/#modsecurity-crs-rules-active","title":"ModSecurity CRS Rules Active","text":"<p>Run the commands on <code>Prod-Joomla</code></p> <pre><code># copy recommended configuration to live configuration\ncp owasp-modsecurity/modsecurity.conf-recommended /etc/modecurity/modsecurity.conf\n\n# edit configuration\nvim /etc/modsecurity/modsecurity.conf\n</code></pre> <p>Contents of <code>/etc/modsecurity/modsecurity.conf</code></p> <pre><code># comment out DetectionOnly mode and turn on\n#SecRuleEngine DetectionOnly\nSecRuleEngine On\n</code></pre> <p>Run commands on <code>Prod-Joomla</code></p> <pre><code># copy crs-setup.conf.example to /etc/modsecurity/crs-setup.conf\ncp /home/playerone/owasp-modsecurity-crs-3.2-dev/crs-setup.conf.example /etc/modsecurity/crs-setup.conf\n\n# copy rules from home dir to /etc/\ncp -r /home/playerone/owasp-modsecurity-crs-3.2-dev/rules/* /etc/modsecurity/rules/\n\n# edit the config for /etc/apache2/mods-enabled/security2.conf\nvim /etc/apache2/mods-enabled/security2.conf\n</code></pre> <pre><code># comment out setting:\n# IncludeOptional /usr/share/modsecurity-crs/owasp-crs.load\n\n# Load the crs-setup.conf\nIncludeOptional /etc/modsecurity/*.conf\n\n# Load the crs rules\nInclude /etc/modsecurity/rules/*.conf\n</code></pre> <p>Run commands on <code>Prod-Joomla</code>:</p> <pre><code># restart apache2\nsystemctl restart apache2\n</code></pre>"},{"location":"school/sat4812/lab12/","title":"Lengthy Logs: Attack Analysis","text":"<p>This lab is a bit different as there is only one check that needs to be completed. The meeting minutes explain that there is a new tab in the menu for filling out a form. Filling out the form with the correct values results in a green check.</p> <p>The \"Incident Response\" form fields are: </p> <ul> <li>Which system was breached? If multiple, use multiple form submissions.</li> <li>Database</li> <li>Which service was compromised on the breached system?</li> <li>mysql</li> <li>What log file shows evidence of compromise? Please provide the full path.</li> <li>C:\\mysql_logs\\mysql.log</li> <li>Which user account(s), if any, were tampered with? For multiple, use commas as the delimiter.</li> <li>playerone, admin, gbates, takasaka</li> </ul>"},{"location":"school/sat4812/lab12/#incident-response-form-correctly-submitted","title":"Incident Response Form Correctly Submitted","text":"<p>Log into the <code>Database</code> machine and verify log location at <code>C:\\mysql_logs\\mysql.log</code></p> <p>The logs are pretty messy, so I used powershell to reformat them- <code>Select-String -Path C:\\mysql_logs\\mysql.log -Pattern \"Query\"</code></p> <p>I then looked at the database backup on <code>Backup</code>. It was located at <code>/DatabaseBackup/wordpress.sql</code>. I copied it over to <code>Security-Desk</code> using <code>scp</code> in order to better look at the logs- <code>scp /DatabaseBackup/wordpress.sql playerone@172.16.30.6:~/wordpress.sql</code>. It prompts you to enter in the password for <code>playerone</code>.</p> <p>On <code>Security-Desk</code>, we can grep through the <code>wordpress.sql</code> file now located in our home directory to see the users in the database before the breach- <code>grep nickname ./wordpress.sql</code>. That gives us the final values to enter in the form and get a green check.</p>"},{"location":"setups/google_chrome/","title":"Google Chrome","text":""},{"location":"setups/google_chrome/#chrome-window-color-profile","title":"Chrome Window Color Profile","text":"<p>Disable this: chrome://flags/#customize-chrome-color-extraction</p>"},{"location":"setups/uyouplus%20youtube/","title":"uYouPlus","text":""},{"location":"setups/uyouplus%20youtube/#download","title":"Download","text":"<p>GitHub Releases</p>"},{"location":"setups/uyouplus%20youtube/#customizations","title":"Customizations","text":"<ul> <li>uYou tab</li> <li>Settings wheel top right red</li> <li>Scroll down to \"Video Player\"</li> <li>disable<ul> <li>Playback Speed Controls</li> <li>uYou Gesture Controls</li> </ul> </li> </ul>"},{"location":"setups/vscode/","title":"VSCode","text":""},{"location":"setups/vscode/#tab-to-next-window-not-recent-window","title":"Tab to next window not recent window","text":"<p>CTRL+SHIFT+P to go to settings. Set CTRL+TAB for \"Open Next Editor\" and CTRL+SHIFT+TAB for \"Open Previous Editor\"</p> <p>Delete existing keybinds for CTRL+TAB and CTRL+SHIFT+TAB.</p>"},{"location":"setups/windows/","title":"Windows","text":""},{"location":"setups/windows/#overview","title":"Overview","text":"<p>Windows configurations</p>"},{"location":"setups/windows/#disable-windows-11-context-menu","title":"Disable Windows 11 Context Menu","text":"<p>https://www.reddit.com/r/Windows11/comments/pu5aa3/howto_disable_new_context_menu_explorer_command/</p> <p>The command itself is below. Make sure to paste into a command prompt window, and restart the file explorer task in task manager.</p> <pre><code>reg.exe add \"HKCU\\Software\\Classes\\CLSID\\{86ca1aa0-34aa-4e8b-a509-50c905bae2a2}\\InprocServer32\" /f /ve\n</code></pre>"},{"location":"setups/windows/#battery-report-laptops","title":"Battery Report (Laptops)","text":"<pre><code>powercfg /batteryreport /output \"C:\\battery-report. html\"\n</code></pre>"},{"location":"setups/windows/#git-autocomplete-powershell","title":"Git Autocomplete PowerShell","text":"<pre><code>PowerShellGet\\Install-Module posh-git -Scope CurrentUser -Force\nImport-Module posh-git\nAdd-PoshGitToProfile\nAdd-PoshGitToProfile -AllHosts\n</code></pre>"},{"location":"setups/wsl%20cowsay/","title":"WSL Cowsay","text":""},{"location":"setups/wsl%20cowsay/#overview","title":"Overview","text":"<p>MTOD files located at <code>/etc/update-motd.d</code></p> <pre><code>~ \u276f cat /etc/update-motd.d/93-cowsay-inspiration\n#!/bin/sh\necho\n\nQUOTE=$(fortune -c | cowsay)\n\necho \"$QUOTE\"\n</code></pre> <pre><code># uncomment line below to run motd every login\n# run-parts /etc/update-motd.d/ \n</code></pre>"},{"location":"vehicles/buell-blast-500/","title":"Buell Blast","text":"<p>2005 Buell Blast 500</p>"},{"location":"vehicles/buell-blast-500/#oil-changes","title":"Oil Changes","text":"<p>Original filter is Part No. 63806-00Y</p> <p>20w50 oil (synthetic)</p> <p>Takes 2 Quarts including what is dumped in the oil filter.</p> <p>Cross reference is Wix # 51394, KN-177 K&amp;N, or others in this link.</p> Oil Changed at Mileage 4857 around 5100-5400  :shrug:"},{"location":"vehicles/buell-blast-500/#brake-fluid","title":"Brake Fluid","text":"<p>DOT 4 fluid</p>"},{"location":"vehicles/buell-blast-500/#service-manual","title":"Service Manual","text":"<p>Service manual</p> <p>Craigerson Service Manual</p>"},{"location":"vehicles/honda/","title":"Honda","text":"<p>5w-20 Oil</p>"},{"location":"vehicles/honda/#filters","title":"Filters","text":"<ul> <li>Mobil 1 M1-110A</li> <li>STP S7317</li> <li>Fram PH7317</li> <li>ACDelco PF2057</li> <li>K &amp; N HP-1008</li> </ul>"},{"location":"vehicles/honda/#service","title":"Service","text":"Mileage Date Service Item 219,509 6-14-2025 Change two tires, new rim covers 218,829 5-27-2025 Paint Job"},{"location":"vehicles/kawasaki-ninja-300/","title":"Ninja 300","text":"<p>Kawasaki Ninja 300 Forums</p>"},{"location":"vehicles/kawasaki-ninja-300/#specs","title":"Specs","text":"<p>Spec page</p>"},{"location":"vehicles/kawasaki-ninja-300/#fuel-capacity","title":"Fuel Capacity","text":"<p>3.8 US gal g</p>"},{"location":"vehicles/kawasaki-ninja-300/#tires","title":"Tires","text":"<p>Front stock tire specs: `110/70-17 M/C 54S</p> <p>Read stock tire specs: <code>140/70-17 M/C 66S dia 24.72\" rpm@60 815.98</code></p> <p>Tire Size thread</p>"},{"location":"vehicles/kawasaki-ninja-300/#oil","title":"Oil","text":"<p>10w-40 stock oil</p> <p>2.2L with filter removed</p> <p>Oil level in window with bike standing straight up on both tires (not on stand)</p>"},{"location":"vehicles/tires/","title":"Tires","text":""},{"location":"vehicles/tires/#2004-honda-accord-lx-24-l-4-cyl","title":"2004 Honda Accord LX 2.4 L 4 Cyl","text":"<p>205 65 R15</p>"},{"location":"vehicles/tires/#tire-disposal","title":"Tire Disposal","text":"<p>Prices as of 2025-06-16</p> Location Disposal Cost per Tire Firestone $6 Discount Tire $3.50 Walmart Auto Center $2 BJ's Wholesale Club Belle Tire $7"}]}